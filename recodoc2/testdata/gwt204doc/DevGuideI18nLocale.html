<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">













 
 
 
 
 






<html>
  <head>
    
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Locales in GWT - Google Web Toolkit - Google Code</title>
<script type="text/javascript"><!--
(function(){function a(){this.t={};this.tick=function(c){this.t[c]=(new Date).getTime()};this.tick("start")}var b=new a;window.jstiming={Timer:a,load:b};if(window.external&&window.external.pageT)window.jstiming.pt=window.external.pageT;})();

var _tocPath_ = '/webtoolkit/_doc_toc.ezt';
var codesite_token = null;
var logged_in_user_email = null;
//--></script>
<link href="/css/codesite.pack.04102009.css" type="text/css" rel="stylesheet">
<script src="/js/codesite_head.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript">CODESITE_CSITimer['load'].tick('bhs');</script>
<link rel="search" type="application/opensearchdescription+xml" title="Google Code" href="/osd.xml">

<!--[if IE]><link rel="stylesheet" type="text/css" href="/css/iehacks.css"><![endif]-->

  </head>

  <body class="gc-documentation">

    
    
    <div id="gb">
 <span>
  
   
    <a href="#"
       id="projects-dropdown" onclick="return false;"
       ><span style="text-decoration:underline">My favorites</span> <span style="font-size:.75em;">&#9660;</span></a>
    |
  
    <a id="lang-dropdown" href="/" onclick="return false;"><span style="text-decoration:underline">English</span> <span style="font-size:.75em;">&#9660;</span></a>
  
   
    | <a href="https://www.google.com/accounts/Login?continue=http%3A%2F%2Fcode.google.com%2Fwebtoolkit%2Fdoc%2Flatest%2FDevGuideI18nLocale.html&amp;followup=http%3A%2F%2Fcode.google.com%2Fwebtoolkit%2Fdoc%2Flatest%2FDevGuideI18nLocale.html" onclick="CODESITE_click('/gb/sc/signin');"><span style="style:text-decoration:underline">Sign in</span></a>
   
  
 </span>
</div>

<div class="gbh" style="left:0px;"></div>
<div class="gbh" style="right:0px;"></div>

<div id="gc-container">
<a id="top"></a>
<div id="skipto">
  <a href="#gc-pagecontent-anchor">Skip to page content</a>
  <a href="#gc-toc-anchor">Skip to main navigation</a>
</div>

<div id="gc-header">
  <div id="logo"><a href="/">
  
  
     <img src="//www.google.com/images/logos/code_logo.gif" height="40" width="167" alt="Google Code" style="border:0;margin:3px 0 0 0;">
  
  
  </a></div>
  <div id="search">
    <div id="searchForm" class="searchForm">
      <form id="cse" action="http://www.google.com/cse" accept-charset="utf-8" class="gsc-search-box" onsubmit="executeGSearch(document.getElementById('gsearchInput').value); return false;">
      <noscript>
      <input type="hidden" name="cref" value="http://code.google.com/cse/googlecode-context.xml">
      </noscript>
      <div id="gsc-search-box">
        <input id="gsearchInput" type="text" name="q" maxlength="2048" class="gsc-input" autocomplete="off" title="Google Code Search" style="width:345px">
        <div id="cs-searchresults" onclick="event.cancelBubble = true;"></div>
        <input title="Search" id="gsearchButton" class="gsc-search-button" name="sa" value="Search" type="submit">
        <div class="greytext">e.g. "ajax apis" or "open source"</div>
      </div>
      </form>
    </div> <!-- end searchForm -->
  </div> <!-- end search -->




</div> <!-- end gc-header -->


<div id="codesiteContent">

<a id="gc-topnav-anchor"></a>
<div id="gc-topnav">
  <h1 style="padding:0 0 0 6px;">Google Web Toolkit</h1>
  <ul id="docs" class="gc-topnav-tabs">

    <li id="home_link">
      <a href="/webtoolkit/" title="Google Web Toolkit home page">Home</a>
    </li>
  
    <li id="docs_link">
      <a href="/webtoolkit/overview.html" class="selected" title="Official Google Web Toolkit documentation">Docs</a>
    </li>
  
    <li>
      <a href="http://googlewebtoolkit.blogspot.com/" title="Official Google Web Toolkit blog">Blog</a>
    </li>
  
    <li>
      <a href="/webtoolkit/community.html" title="Community home for Google Web Toolkit">Community</a>
    </li>
  
    <li>
      <a href="/webtoolkit/terms.html" title="Google Web Toolkit terms of service">Terms</a>
    </li>
  
    <li>
      <a href="/webtoolkit/download.html" title="Download Google Web Toolkit">Download</a>
    </li>
  

  </ul>
</div> <!-- end gc-topnav -->

    <div class="g-section g-tpl-230">

      <a name="gc-toc-anchor"></a>
      <div class="g-unit g-first" id="gc-toc">
        <ul>
  <li>
    <ul>
      <li><a href="/webtoolkit/download.html">Downloads</a></li>
    </ul>
  </li>
</ul>

<div class="line"></div>

<ul>
  <li><h2>Learn More</h2>
    <ul>
      <li><a href="/webtoolkit/overview.html">Overview</a></li>
      <li><a href="/webtoolkit/business.html">Business Apps</a></li>
      <li><a href="/webtoolkit/learnmore-sdk.html">SDK</a></li>
      <li><a href="/webtoolkit/speedtracer/">Speed Tracer</a></li>
      <li><a href="/eclipse/index.html">Plugin for Eclipse</a></li>
      <li><a href="/webtoolkit/examples/">Examples</a></li>
    </ul>
  </li>
    <li><h2>Get Started</h2>
    <ul>
      <li><a href="/webtoolkit/gettingstarted.html">SDK</a></li>
      <li><a href="/webtoolkit/usingeclipse.html">Set up Eclipse</a></li>
      <li><a href="/webtoolkit/speedtracer/get-started.html">Speed Tracer</a></li>
      <li><a href="/webtoolkit/doc/latest/tutorial/index.html">Tutorials</a>
        <ul>
          <li><a href="/webtoolkit/doc/latest/tutorial/gettingstarted.html">Get Started</a>
            <ul>
              <li><a href="/webtoolkit/doc/latest/tutorial/create.html">Create a GWT Project</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/design.html">Design the Application</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/buildui.html">Build the User Interface</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/manageevents.html">Manage Events on the Client</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/codeclient.html">Code Functionality on the Client</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/debug.html">Debug a GWT Application</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/style.html">Apply Style</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/compile.html">Compile a GWT Application</a></li>
            </ul>
          </li>
          <li><a href="/webtoolkit/doc/latest/tutorial/i18n.html">Internationalization</a></li>
          <li><a href="/webtoolkit/doc/latest/tutorial/clientserver.html">Client-Server Communication</a>
            <ul>
              <li><a href="/webtoolkit/doc/latest/tutorial/RPC.html">GWT RPC</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/JSON.html">JSON</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/JSONphp.html">JSON - PHP</a></li>
              <li><a href="/webtoolkit/doc/latest/tutorial/Xsite.html">Cross-Site</a></li>
            </ul>
          </li>
          <li><a href="/webtoolkit/doc/latest/tutorial/JUnit.html">JUnit Testing</a></li>
          <li><a href="/webtoolkit/doc/latest/tutorial/appengine.html">Google App Engine</a></li>
          <li><a href="/webtoolkit/doc/latest/tutorial/mvp-architecture.html">MVP Architecture</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><h2>Documentation</h2>
    <ul>
      <li><a href="/webtoolkit/doc/latest/ReleaseNotes.html">What's Coming in 2.1?</a>
        <ul>
          <li><a href="/webtoolkit/release-notes.html">Release Notes</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/DevGuideOrganizingProjects.html">Organize Projects</a></li>
      <li><a href="/webtoolkit/doc/latest/DevGuideCompilingAndDebugging.html">Compile &amp; Debug</a></li>
      <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasics.html">Coding Basics</a>
        <ul>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsClient.html">Client-Side Code</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsCompatibility.html">Compatibility with the Java Language and Libraries</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsHistory.html">History</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsFormatting.html">Number and Date Formatting</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsDelayed.html">Programming Delayed Logic</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsJSON.html">Working with JSON</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsXML.html">Working with XML</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsJSNI.html">JavaScript Native Interface (JSNI)</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsOverlay.html">JavaScript Overlay Types</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodingBasicsDeferred.html">Deferred Binding</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/DevGuideUi.html">Build User Interfaces</a>
        <ul>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiBrowser.html">Cross-Browser Support</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiPanels.html">Layout Using Panels</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiWidgets.html">Widgets</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiCustomWidgets.html">Creating Custom Widgets</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiDom.html">Working with the DOM</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiHandlers.html">Events and Handlers</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiCss.html">Working with CSS</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiBinder.html">Declarative UI with UiBinder</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideUiImageBundles.html">Bundling Image Resources</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/DevGuideA11y.html">Accessibility</a></li>
      <li><a href="/webtoolkit/doc/latest/DevGuideI18n.html">Internationalization</a>
        <ul>
         <li><a href="/webtoolkit/doc/latest/DevGuideI18nLocale.html">Locale</a></li>
         <li><a href="/webtoolkit/doc/latest/DevGuideI18nConstants.html">Constants</a></li>
         <li><a href="/webtoolkit/doc/latest/DevGuideI18nMessages.html">Messages</a></li>
         <li><a href="/webtoolkit/doc/latest/DevGuideI18nPluralForms.html">Plural Forms</a></li>
         <li><a href="/webtoolkit/doc/latest/DevGuideUiBinderI18n.html">UiBinder</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/DevGuideServerCommunication.html">Communicate with a Server</a></li>
      <li><a href="/webtoolkit/doc/latest/DevGuideTesting.html">Test with JUnit</a>
        <ul>
          <li><a href="/webtoolkit/doc/latest/DevGuideTestingHtmlUnit.html">HtmlUnit</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideTestingRemoteTesting.html">Remote Testing</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideTestingCoverage.html">Code Coverage</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/DevGuideDeploying.html">Deploy</a></li>
      <li><a href="/webtoolkit/doc/latest/DevGuideOptimizing.html">Optimize</a>
        <ul>
          <li><a href="/webtoolkit/doc/latest/DevGuideCodeSplitting.html">Code Splitting</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideCompileReport.html">Compile Report</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideClientBundle.html">Client Bundle</a></li>
          <li><a href="/webtoolkit/doc/latest/DevGuideLightweightMetrics.html">Lightweight Metrics</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/RefGuide.html">Reference</a>
        <ul>
          <li><a href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.1/index.html?overview-summary.html">SDK API Reference (Javadoc)</a></li>
          <li><a href="/webtoolkit/doc/latest/RefJreEmulation.html">JRE Emulation Reference</a></li>
          <li><a href="/webtoolkit/doc/latest/RefWidgetGallery.html">Widget List</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/FAQ.html">FAQ</a>
        <ul>
          <li><a href="/webtoolkit/doc/latest/FAQ_GettingStarted.html">Get Started</a></li>
          <li><a href="/webtoolkit/doc/latest/FAQ_DebuggingAndCompiling.html">Debug and Compile</a></li>
          <li><a href="/webtoolkit/doc/latest/FAQ_UI.html">Build the User Interface</a></li>
          <li><a href="/webtoolkit/doc/latest/FAQ_Client.html">Develop Client-side Code</a></li>
          <li><a href="/webtoolkit/doc/latest/FAQ_Server.html">Communicate with a Server</a></li>
          <li><a href="/webtoolkit/doc/latest/FAQ_Troubleshooting.html">Troubleshoot</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/doc/latest/DevGuideGlossary.html">Glossary</a></li>
      <li><a href="/webtoolkit/previousdocs.html">Docs for Previous Versions</a></li>
    </ul>
  </li>
  <li><h2>Tools</h2>
    <ul>
      <li><a href="/eclipse/">Plugin for Eclipse</a></li>    
      <li><a href="/webtoolkit/doc/latest/RefCommandLineTools.html">SDK Command-line Tools</a></li>
      <li><a href="/webtoolkit/speedtracer/">Speed Tracer</a>
        <ul>
          <li><a href="/webtoolkit/speedtracer/get-started.html">Getting Started</a></li>
          <li><a href="/webtoolkit/speedtracer/speed-tracer-examples.html">Examples</a></li>
          <li><a href="/webtoolkit/speedtracer/hint-description.html">Hints</a></li>
          <li><a href="/webtoolkit/speedtracer/data-dump-format.html">Data Dump Format</a></li>
          <li><a href="/webtoolkit/speedtracer/logging-api.html">Logging API</a></li>
          <li><a href="/webtoolkit/speedtracer/faq.html">FAQ</a></li>
        </ul>
      </li>
      <li><a href="/webtoolkit/tools/gwtdesigner/index.html">GWT Designer</a></li>
      <li><a href="/webtoolkit/tools/wbpro/index.html">WindowBuilder Pro</a></li>
      <li><a href="/webtoolkit/tools/wintester/html/index.html">WindowTester Pro</a></li>
      <li><a href="/webtoolkit/tools/codepro/doc/index.html">CodePro AnalytiX</a></li>
    </ul>
  </li>



  <li><h2>Resources</h2>
    <ul>
      <li><a href="/webtoolkit/articles.html">Articles</a></li>
      <li><a href="/webtoolkit/books.html">Books</a></li>
      <li><a href="/webtoolkit/community.html">Community</a>
        <ul>
          <li><a href="http://gwtgallery.appspot.com">App Gallery</a></li>
          <li><a href="/webtoolkit/developer_spotlight.html">Developer Spotlight</a></li>
         </ul>
      </li>
      <li><a href="/webtoolkit/googleapilibraries.html">Google API Libraries</a></li>
      <li><a href="/webtoolkit/tools.html">Tools &amp; Libraries</a></li>
      <li><a href="/webtoolkit/media_gallery.html">Presentations</a></li>
      <li><a href="/webtoolkit/makinggwtbetter.html">Making GWT Better</a></li>
      <li><a href="/webtoolkit/lifeofanissue.html">Issue Tracking</a></li>
    </ul>
  </li>
</ul>



      </div>

      <a name="gc-pagecontent-anchor"></a>
      <div class="g-unit" id="gc-pagecontent">
        <h1 class="page_title">Locales in GWT</h1>



<style type="text/css"> .TODO { background-color: yellow; } </style>

<ol class="toc" id="pageToc">
  <li><a href="#LocaleOverview">Overview</a></li>
  <li><a href="#LocaleProperty">Client Properties and the GWT Compilation
  Process</a></li>
  <li><a href="#LocaleModule">Adding Locale Choices to a Module</a></li>
  <li><a href="#LocaleDefault">The Default Locale</a></li>
  <li><a href="#LocaleSpecifying">Specifying the Locale to Load</a></li>
  <li><a href="#RuntimeLocales">Runtime Locales</h1>
  <li><a href="#LocaleProvider">Creating a New Property Provider</a></li>
  <li><a href="#LocaleInfo">Programmatic Access to Locale Information</a></li>
  <li><a href="#ServerLocales">Server/Generator Manipulation of Locales</a></li>
</ol>

<h1 id="LocaleOverview">Overview</h1>

<p>GWT represents <tt>locale</tt> as a client property whose value can be set either using a meta tag embedded in the <a href="DevGuideOrganizingProjects.html#DevGuideHostPage">host
page</a> or in the query string of the host page's URL. Rather than being supplied by GWT, the set of possible values for the <tt>locale</tt> client property is entirely a
function of your <a href="DevGuideOrganizingProjects.html#DevGuideModules">module configuration</a>.</p>

<h1 id="LocaleProperty">Client Properties and the GWT Compilation Process</h1>

<p><i>Client properties</i> are key/value pairs that can be used to configure GWT modules. User agent, for example, is represented by a client property. Each client property can
have any number of values, but all of the values must be enumerable when the GWT compiler runs. GWT modules can define and extend the set of available client properties along with
the potential values each property might assume when loaded in an end user's browser using the <tt>&lt;extend-property&gt;</tt> directive. At compile time, the GWT compiler
determines all the possible permutations of a module's client properties, from which it produces multiple <i>compilations</i>. Each compilation is optimized for a different set of
client properties and is recorded into a file ending with the suffix <tt>.cache.html</tt>.</p>

<p>In deployment, the end-user's browser only needs one particular compilation,
which is determined by mapping the end user's client properties onto the
available compiled permutations. Thus, only the exact code required by the end
user is downloaded, no more. By making locale a client property, the standard
startup process in <tt>&lt;module&gt;.nocache.js</tt> chooses the appropriate
localized version of an application, providing ease of use, optimized
performance, and minimum script size. See the
<a href="/webtoolkit/doc/latest/FAQ_DebuggingAndCompiling.html#What's_with_all_the_cache/nocache_stuff_and_weird_filenames">Knowledge
Base</a> for more information about the logic of the <tt>&lt;modulename&gt;.nocache.js</tt> file.</p>

<h1 id="LocaleModule">Adding Locale Choices to a Module</h1>

<p>In any real-world application, you will define at least one locale in addition to the default locale. &quot;Adding a locale&quot; means extending the set of values of the <tt>locale</tt>
client property using the <tt>&lt;extend-property&gt;</tt> element in your <a
href="DevGuideOrganizingProjects.html#DevGuideModuleXml">module XML</a>. For
example, the following module adds multiple locale values:</p>

<pre class="prettyprint">
&lt;module&gt;
  &lt;inherits name=&quot;com.google.gwt.user.User&quot;/&gt;
  &lt;inherits name=&quot;com.google.gwt.i18n.I18N&quot;/&gt;
  
  &lt;!-- French language, independent of country --&gt;
  &lt;extend-property name=&quot;locale&quot; values=&quot;fr&quot;/&gt;

  &lt;!-- French in France --&gt;
  &lt;extend-property name=&quot;locale&quot; values=&quot;fr_FR&quot;/&gt;

  &lt;!-- French in Canada --&gt;
  &lt;extend-property name=&quot;locale&quot; values=&quot;fr_CA&quot;/&gt;
  
  &lt;!-- English language, independent of country --&gt;
  &lt;extend-property name=&quot;locale&quot; values=&quot;en&quot;/&gt;
&lt;/module&gt;
</pre>

<h1 id="LocaleDefault">The Default Locale</h1>

<p>The <tt>com.google.gwt.i18n.I18N</tt> module defines only one locale by default, called <tt>default</tt>. This default locale is used when the <tt>locale</tt> client property
goes unspecified in deployment. The default locale is used internally as a last-resort match between a <a href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/i18n/client/Localizable.html">Localizable</a> interface and a localized resource or
class.</p>

<p>In general, you should avoid running the app in the <tt>default</tt> locale
&mdash; many things will produce surprising results.  For example, only a small set of
currencies will be supported, resulting in errors for applications that make use of
other currencies, and no plural forms will be supported (since
the language isn't known).  If you really want to allow the application
to continue running when the user requests an unsupported locale, you
are probably better off choosing some real language as a default, such as
<tt>en</tt>.  You can set what value is used for the default by including
the following in your <a
href="DevGuideOrganizingProjects.html#DevGuideModuleXml">module XML</a>:
<pre class="prettyprint">
&lt;set-property-fallback name="locale" value="en"/&gt;
</pre>

<h1 id="LocaleSpecifying">Specifying the Locale to Load</h1>

<p>The locale client property can be specified using either a meta tag or as part of the query string in the host page's URL. If both are specified, the query string takes
precedence. To specify the <tt>locale</tt> client property using a meta tag in the <a href="DevGuideOrganizingProjects.html#DevGuideHostPage">host page</a>, embed a meta tag for
<tt>gwt:property</tt> as follows:</p>

<pre class="prettyprint">
&lt;meta name=&quot;gwt:property&quot; content=&quot;locale=x_Y&quot;&gt;
</pre>

<p>For example, the following host HTML page sets the locale to &quot;ja_JP&quot;:</p>

<pre class="prettyprint">
&lt;html&gt;
  &lt;head&gt;
    &lt;meta name=&quot;gwt:property&quot; content=&quot;locale=ja_JP&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;!-- Load the GWT compiled module code                           --&gt;
    &lt;script src=&quot;com.google.gwt.examples.i18n.ColorNameLookupExample.nocache.js &quot; /&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>To specify the <tt>locale</tt> client property using a query string, specify a value for the name <tt>locale</tt>. For example,</p>

<pre>
http://www.example.org/myapp.html?locale=fr_CA
</pre>

<p class="note"><strong>Tip:</strong> The preferred time to explicitly set <tt>locale</tt> is to do so before your GWT module is invoked. You can change the <tt>locale</tt> from within your GWT
module by adding or changing the <tt>locale</tt> query string in the current URL and reloading the page. Keep in mind that after reloading the page, your module will
restart.</p>

<p/>

<h1 id="RuntimeLocales">Runtime Locales</h1>

<p>For cases where the translated values are the same, but you still want
country-specific details, you can use runtime locales to reduce the number
of compiled permutations, but still get country-specific details like the
default currency, number/date formatting rules, etc.</p>

<p>As an example, you might have one set of translations for all of Spanish
as spoken in Latin America (<tt>es_419</tt>), yet allow users to choose
a country-specific locale such as Argentinian Spanish (<tt>es_AR</tt>).</p>

<p>The easy way to use runtime locales is simply to add:
<pre class="prettyprint">
&lt;inherits name=&quot;com.google.gwt.i18n.CldrLocales&quot;/&gt;
</pre>
<br/>to your <a href="DevGuideOrganizingProjects.html#DevGuideModuleXml">module
XML</a> file, and all locales that GWT knows about that inherit from
your compile-time locale will be automatically included.  You can see the
result in the <a
href="http://gwt.google.com/samples/Showcase/Showcase.html"><tt>Showcase</tt>
sample application</a>.</p>

<h2>Caveats</h2>
<ul>
 <li>All the tables for all included runtime locales are included in the
 each appropriate compiled permutation, so this can increase download size.</li>
 <li>The tables for non-obvious locale inheritance and aliases are too large
 to be included in the selection script, so inheritance won't work properly
 in all cases.  This means you either need to specifically control the set
 of possible locales, such as in the locale selector in the <a
href="http://gwt.google.com/samples/Showcase/Showcase.html"><tt>Showcase</tt>
sample application</a>, or have the server choose the locale using the
proper inheritance tables (<tt>GwtLocaleFactoryImpl</tt> will be helpful here,
and you will need a way to get the set of locales your application was built
with).</li>
 <li>Only currency data, number format, and date/time formats are affected
 by runtime locales currently &mdash; everything else will only use the compile-time
 locale from the locale deferred binding property.</li>
</ul>

<h1 id="LocaleProvider">Creating a New Property Provider</h1>

<p>If you are embedding your module into an existing application, there may be another way of determining locale that does not lend itself to using the <tt>&lt;meta&gt;</tt> tag
or specifying <tt>locale=</tt> as a query string. In this case, you could write your own property provider.</p>

<p>A property provider is specified in the <a href="DevGuideOrganizingProjects.html#DevGuideModuleXml">module XML file</a> as a JavaScript fragment that will return the value for the
named property at runtime. In this case, you would want to define the locale property using a property provider. To see examples of <tt>&lt;property-provider&gt;</tt> definitions
in action, see the files <a href="http://code.google.com/p/google-web-toolkit/source/browse/releases/2.0/user/src/com/google/gwt/i18n/I18N.gwt.xml">I18N.gwt.xml</a> and
<a href="http://code.google.com/p/google-web-toolkit/source/browse/releases/2.0/user/src/com/google/gwt/user/UserAgent.gwt.xml">UserAgent.gwt.xml</a> in the GWT source code.</p>

<h1 id="LocaleInfo">Programmatic Access to Locale Information</h1>

<p>To get information about the current locale or the available set of
locales, see the <a
href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/i18n/client/LocaleInfo.html">LocaleInfo</a>
class.  For example:</p>

<ul>
<li>To check if the current locale is a Right-to-Left locale:
<pre class="prettyprint">
if (LocaleInfo.getCurrentLocale().isRTL()) {
  ...
}
</pre></li>
</ul>

<ul>
<li>To get a list of supported locales, such as for a locale selector:
<pre class="prettyprint">
for (String localeName : LocaleInfo.getAvailableLocaleNames()) {
  String displayName = LocaleInfo.getLocaleNativeDisplayName(localeName);
  ...
}
</pre></li>
</ul>

<h1 id="ServerLocales">Server/Generator Manipulation of Locales</h1>

<p>GWT provides two classes to manipulate locales, which fully support aliases
and locale inheritance.</p>

<ul>
<li><a
href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/i18n/shared/GwtLocale.html">GwtLocale</a>
represents a GWT locale, and supports converting to canonical form, producing
search lists for locale inheritance and aliases, and provides accessors to
the components of a locale.</li>
</ul>

<ul>
<li><a
href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/i18n/shared/GwtLocaleFactory.html">GwtLocaleFactory</a>
provides a way of creating new <tt>GwtLocale</tt> objects from locale names
or their components (useful for converting from a <tt>java.util.Locale</tt>
object).</li>
</ul>

<ul>
<li><a
href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/i18n/rebind/LocaleUtils.html">LocaleUtils</a>
provides easy access to GWT's locale infrastructure for a generator.
<ul>
<li>Get a GwtLocaleFactory instance:
<pre class="prettyprint">
GwtLocaleFactory factory = LocaleUtils.getLocaleFactory();
</pre></li>
<li>Get all locales for this compile, including runtime locales:
<pre class="prettyprint">
Set&lt;GwtLocale&gt; locales = localeUtils.getAllLocales();
</pre></li>
</ul>
</li>
</ul>

<ul>
<li><a
href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/i18n/server/GwtLocaleFactoryImpl.html">GwtLocaleFactoryImpl</a>
provides a way to create GwtLocale instances on the server.</li>
</ul>



      </div><!-- end gc-pagecontent -->
   </div><!-- end gooey wrapper -->

    </div> <!-- end codesite content -->


<div id="gc-footer" dir="ltr">
  <div class="text">
    
      <div class="notice"><div id="notice" style="text-align: center; border: 1em 0em 1em 0em">
  Except as otherwise <a
  href="http://code.google.com/policies.html#restrictions">noted</a>,
  the content of this page is licensed under the <a rel="license"
  href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
  Attribution 3.0 License</a>.
<!-- <rdf:RDF xmlns="http://web.resource.org/cc/" 
              xmlns:dc="http://purl.org/dc/elements/1.1/"
              xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <Work rdf:about="">
    <license rdf:resource="http://creativecommons.org/licenses/by/3.0/" />
  </Work>
  <License rdf:about="http://creativecommons.org/licenses/by/3.0/">
    <permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
    <permits rdf:resource="http://web.resource.org/cc/Distribution"/>
    <requires rdf:resource="http://web.resource.org/cc/Notice"/>
    <requires rdf:resource="http://web.resource.org/cc/Attribution"/>
    <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/>
  </License>
</rdf:RDF> -->
</div>
</div>
    
    &copy;2010 Google -
    <a href="/">Code Home</a> -
    <a href="/terms.html">Terms of Service</a> -
    <a href="/privacy.html">Privacy Policy</a> -
    <a href="/more/">Site Directory</a>
    <br> <br>
    Google Code offered in:
    <a href="/intl/en/">English</a> -
    <a href="/intl/es/">Español</a> -
    <a href="/intl/ja/">日本語</a> -
    <a href="/intl/ko/">한국어</a> -
    <a href="/intl/pt-BR/">Português</a> -
    <a href="/intl/ru/">Pусский</a> -
    <a href="/intl/zh-CN/">中文(简体)</a> -
    <a href="/intl/zh-TW/">中文(繁體)</a>
  </div>
</div><!-- end gc-footer -->

</div><!-- end gc-container -->

<script type="text/javascript">CODESITE_CSITimer['load'].tick('ats');</script>
<script src="/js/codesite_tail.pack.04102009.js" type="text/javascript"></script>




<script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(


    ['siteTracker._setAccount', 'UA-18071-1'],
    ['siteTracker._setDomainName', 'code.google.com'],
    ['siteTracker._setCookiePath', window.location.pathname.substring(0,
        window.location.pathname.lastIndexOf('/') + 1)],
    ['siteTracker._trackPageview']
);
(function() {
  var ga = document.createElement('script');

  ga.type = 'text/javascript';
  ga.async = true;
  ga.src = 'http://www.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] ||
   document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
</script>




  </body>
</html>

