<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>Developing Draggable Applets (The Java&trade; Tutorials &gt;        
            Deployment &gt; Java Applets)
</title>

     <meta name="description" content="This deployment Java tutorial describes development and deployment of applets, Java Web Start applications, rich Internet applications, and JAR related tools" />
     <meta name="keywords" content="java programming, learn java, java sample code, java applet, java web start, rich internet application, RIA, jar, plugin, plug-in" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Deployment
        <br><b>Lesson:</b> Java Applets
        <br><b>Section:</b> Doing More With Applets
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Java Applets</a></div>
<div class="linkAHEAD"><a href="getStarted.html">Getting Started With Applets</a></div>
<div class="linkBHEAD"><a href="subclass.html">Defining an Applet Subclass</a></div>
<div class="linkBHEAD"><a href="appletMethods.html">Methods for Milestones</a></div>
<div class="linkBHEAD"><a href="lifeCycle.html">Life Cycle of an Applet</a></div>
<div class="linkBHEAD"><a href="appletExecutionEnv.html">Applet's Execution Environment</a></div>
<div class="linkBHEAD"><a href="developingApplet.html">Developing an Applet</a></div>
<div class="linkBHEAD"><a href="deployingApplet.html">Deploying an Applet</a></div>
<div class="linkCHEAD"><a href="html.html">Deploying With the Applet Tag</a></div>
<div class="linkAHEAD"><a href="doingMoreWithApplets.html">Doing More With Applets</a></div>
<div class="linkBHEAD"><a href="data.html">Finding and Loading Data Files</a></div>
<div class="linkBHEAD"><a href="param.html">Defining and Using Applet Parameters</a></div>
<div class="linkBHEAD"><a href="showStatus.html">Displaying Short Status Strings</a></div>
<div class="linkBHEAD"><a href="browser.html">Displaying Documents in the Browser</a></div>
<div class="linkBHEAD"><a href="invokingJavaScriptFromApplet.html">Invoking JavaScript Code From an Applet</a></div>
<div class="linkBHEAD"><a href="invokingAppletMethodsFromJavaScript.html">Invoking Applet Methods From JavaScript Code</a></div>
<div class="linkBHEAD"><a href="appletStatus.html">Handling Initialization Status With Event Handlers </a></div>
<div class="linkBHEAD"><a href="manipulatingDOMFromApplet.html">Manipulating DOM of Applet's Web Page</a></div>
<div class="linkBHEAD"><a href="customProgressIndicatorForApplet.html">Displaying a Customized Loading Progress Indicator</a></div>
<div class="linkBHEAD"><a href="stdout.html">Writing Diagnostics to Standard Output and Error Streams</a></div>
<div class="nolinkBHEAD">Developing Draggable Applets</div>
<div class="linkBHEAD"><a href="iac.html">Communicating With Other Applets</a></div>
<div class="linkBHEAD"><a href="server.html">Working With a Server-Side Application </a></div>
<div class="linkCHEAD"><a href="clientExample.html">Network Client Applet Example</a></div>
<div class="linkBHEAD"><a href="security.html">What Applets Can and Cannot Do</a></div>
<div class="linkAHEAD"><a href="problemsindex.html">Solving Common Applet Problems</a></div>
<div class="linkQUESTIONS"><a href="QandE/questions.html">Questions and Exercises</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Deployment</a>
                &gt;
                <a href=index.html target=_top>Java Applets</a>
            </span>
            <div class=NavBit>
                <a target=_top href=stdout.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=iac.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>Developing Draggable Applets</h1></div>
            <div id=PageContent>
<p>A Java applet that is deployed by specifying the <code>draggable</code> parameter can be
dragged outside of the browser and dynamically transformed into a Java Web Start
application. The Java applet can be dragged by pressing the Alt key and the left mouse
button and dragging the mouse.
When the drag operation begins, the applet is removed from its parent
container (<code>Applet</code> or <code>JApplet</code>) and placed in a new
undecorated top-level window (<code>Frame</code> or <code>JFrame</code>).
A small floating Close button is displayed next to the dragged applet. When the
floating Close button is clicked, the applet is placed back in the browser.
Java applets that can be dragged out of the browser shall henceforth be
referred to as <em>draggable applets</em>.
</p>

<p>You can customize the behavior of a draggable applet in the following ways:</p>

<ul>
    <li>You can change the keystroke and mouse button sequence that is used to drag the
    applet outside of the browser.
    </li>
    <li>You can add a desktop shortcut that can be used to launch your application
    outside of the browser.
    </li>
    <li>You can define how the applet should be closed after it has been dragged
    outside of the browser.
    </li>
</ul>

<p>The following sections describe how to implement and customize a draggable applet.
The
<a class="SourceLink" target="_blank" href="examples/applet_Draggable/src/MenuChooserApplet.java"><code>MenuChooserApplet</code></a> class is used to demonstrate the development and deployment of
draggable applets. Open
<a class="SourceLink" target="_blank" href="examples/dist/applet_Draggable/AppletPage.html"><code><code>AppletPage.html</code></code></a> in a browser to view the Menu Chooser applet on a new page.
</p>

<div class="note"><hr><strong>Note:</strong> If you don't see the applet running, you need to install at least the <a href="http://java.sun.com/javase/downloads/index.jsp">Java SE Development Kit (JDK) 6 update 10</a> release.<hr></div><div class="note"><hr><strong>Note:</strong> If you don't see the example running, you might need to enable the JavaScript interpreter in your browser so that the Deployment Toolkit script can function properly.<hr></div>
<h2>Enabling the Capability to Drag an Applet</h2>

<p>You can enable the capability to drag an applet by setting the
<code>draggable</code> parameter to <code>true</code> when deploying the applet,
as shown in the following code snippet:
</p>

<div class="codeblock"><pre>
&lt;script src="http://www.java.com/js/deployJava.js"&gt;&lt;/script&gt;
&lt;script&gt;
    var attributes = { code:'MenuChooserApplet', width:900, height:300 };
    var parameters = {jnlp_href: 'draggableapplet.jnlp', <b>draggable: 'true'</b>} ;
    deployJava.runApplet(attributes, parameters, '1.6');
&lt;/script&gt;
</pre></div>

<h2>Changing the Keystroke and Mouse Button Sequence That Is Used to Drag an Applet</h2>

<p>You can change the keystroke and mouse button sequence that is used to drag
an applet by implementing the
<code>isAppletDragStart</code> method. In the following code snippet, the applet
can be dragged by pressing the left mouse button and dragging the mouse:</p>

<div class="codeblock"><pre>
 public boolean isAppletDragStart(MouseEvent e) {
        if(e.getID() == MouseEvent.MOUSE_DRAGGED) {
            return true;
        } else {
            return false;
        }
    }
</pre></div>

<h2>Enabling the Addition of a Desktop Shortcut When the Applet Is Disconnected From the Browser</h2>

<p>If the user closes the browser window or navigates away from the page after
dragging an applet outside of the page, the applet is said to be <em>disconnected</em> from
the browser. You can create a desktop shortcut for the applet when the applet is
disconnected from the browser. The desktop shortcut can be used to launch the
application outside of the browser. To enable the creation of a desktop shortcut, add the
<code>offline-allowed</code> and <code>shortcut</code> tags to the applet's
Java Network Launch Protocol (JNLP) file.</p>

<div class="codeblock"><pre>
&lt;information&gt;
    ...
    &lt;offline-allowed /&gt;
    &lt;shortcut online="false"&gt;
        &lt;desktop /&gt;
    &lt;/shortcut&gt;
&lt;/information&gt;
</pre></div>

<div class="note"><hr><strong>Note:</strong>&nbsp;Depending on the setting for Shortcut Creation in the user's Java Control Panel,
the user might be prompted for confirmation before the shortcut is created.
<hr></div>

<h2>Defining How the Applet Should Be Closed</h2>

<p>You can define how your applet can be closed. For example, your Swing applet
could have a <code>JButton</code> to close the applet instead of relying on the default
floating Close button.</p>

<p>The Java Plug-in software gives the applet an instance of the <code>ActionListener</code>
class. This instance of the <code>ActionListener</code> class, also referred to
as the <em>close listener</em>, can be used to modify the
default close behavior of the applet.</p>

<p>To define how the applet should be closed, implement the
<code>setAppletCloseListener</code> and
<code>appletRestored</code> methods in your applet.
</p>

<p>
In the following code
snippet, the
<a class="SourceLink" target="_blank" href="examples/applet_Draggable/src/MenuChooserApplet.java"><code>MenuChooserApplet</code></a> class receives the close listener and passes it on to the instance of the
<a class="SourceLink" target="_blank" href="examples/applet_Draggable/src/MenuItemChooser.java"><code>MenuItemChooser</code></a> class:
</p>

<div class="codeblock"><pre>
MenuItemChooser display = null;
...
display = new MenuItemChooser();
...
public void setAppletCloseListener(ActionListener cl) {
    display.setCloseListener(cl);
}

public void appletRestored() {
    display.setCloseListener(null);
}
</pre></div>

<p>The <code>MenuItemChooser</code> class is responsible for controlling
 the applet's user interface. The <code>MenuItemChooser</code> class defines a
 <code>JButton</code> labeled "Close."  The following code is executed when the
 user clicks this Close button:</p>

<div class="codeblock"><pre>
private void close() {
    // invoke actionPerformed of closeListener received from
    // the Java Plug-in software.
    if (closeListener != null) {
        closeListener.actionPerformed(null);
    }
}
</pre></div>

<a id="decoration" name=="decoration"></a>
<h2>Requesting and Customizing Applet Decoration</h2>
<p>Beginning in the Java SE 7 release, when deploying an applet, 
you can specify that the window of 
dragged applet should be decorated 
with the default or customized window title.
</p>
<p>To enable window decoration of a dragged applet, specify the 
<code>java_decorated_frame</code> parameter with a value of 
<code>&quot;true&quot;</code>. To enable a customized window title,  
specify the <code>java_applet_title</code> parameter also. The value of 
this parameter should be the text of the window title.
<p>
<div class="codeblock"><pre>
&lt;script src="http://www.java.com/js/deployJava.js"&gt;&lt;/script&gt;
&lt;script&gt;
    var attributes = { code:'SomeDraggableApplet', width:100, height:100 };
    var parameters = {jnlp_href: 'somedraggableapplet.jnlp', 
                        <b>java_decorated_frame: 'true',
                        java_applet_title: 'A Custom Title'</b>   
                     } ;
    deployJava.runApplet(attributes, parameters, '1.7');
&lt;/script&gt;
</pre></div>

The <code>java_decorated_frame</code> and <code>java_applet_title</code> parameters 
can also be specified in the applet's JNLP file as shown in the following code 
snippet:
<div class="codeblock"><pre>
&lt;applet-desc main-class="SayHello" name="main test" height="150" width="300"&gt;
    &lt;param name="java_decorated_frame" value="true" /&gt;
    &lt;param name="java_applet_title" value="" /&gt;
&lt;/applet-desc&gt;
</pre></div>


<p>
<a class="OutsideLink" target="_blank" href="examplesIndex.html#DraggableApplet">Download source code</a> for the <em>Draggable Applet</em> example to experiment further.
</p>

        </div>
        <div class=NavBit>
            <a target=_top href=stdout.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=iac.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h1" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id=duke src=../../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h2" align="left" valign="middle"><img id=oracle src=../../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Writing Diagnostics to Standard Output and Error Streams
        <br><b>Next page:</b> Communicating With Other Applets
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
