



<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>Empty Table Drop (The Java&trade; Tutorials &gt;        
            Creating a GUI With JFC/Swing &gt; Drag and Drop and Data Transfer)
</title>

     <meta name="description" content="This Swing Java Tutorial describes developing graphical user interfaces (GUIs) for applications and applets using Swing components" />
     <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface, swing components, swing events, swing layout  " />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Creating a GUI With JFC/Swing
        <br><b>Lesson:</b> Drag and Drop and Data Transfer
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Drag and Drop and Data Transfer</a></div>
<div class="linkAHEAD"><a href="intro.html">Introduction to DnD</a></div>
<div class="linkAHEAD"><a href="defaultsupport.html">Default DnD Support</a></div>
<div class="linkBHEAD"><a href="basicdemo.html">Demo - BasicDnD</a></div>
<div class="linkAHEAD"><a href="transferhandler.html">TransferHandler Class</a></div>
<div class="linkBHEAD"><a href="export.html">Export Methods</a></div>
<div class="linkBHEAD"><a href="import.html">Import Methods</a></div>
<div class="linkAHEAD"><a href="transfersupport.html">TransferSupport Class</a></div>
<div class="linkAHEAD"><a href="dropmodes.html">Setting the Drop Mode</a></div>
<div class="linkBHEAD"><a href="dropmodedemo.html">Demo - DropDemo</a></div>
<div class="linkAHEAD"><a href="dropaction.html">Choosing the Drop Action</a></div>
<div class="linkBHEAD"><a href="dropactiondemo.html">Demo - ChooseDropAction</a></div>
<div class="linkAHEAD"><a href="showdroploc.html">Showing the Drop Location</a></div>
<div class="linkAHEAD"><a href="locsensitivedrop.html">Location Sensitive Drop</a></div>
<div class="linkBHEAD"><a href="locsensitivedemo.html">Demo - LocationSensitiveDemo</a></div>
<div class="nolinkAHEAD">Empty Table Drop</div>
<div class="linkAHEAD"><a href="droplocation.html">Drop Location Rendering</a></div>
<div class="linkAHEAD"><a href="toplevel.html">Top-Level Drop</a></div>
<div class="linkAHEAD"><a href="cutpaste.html">Adding Cut, Copy and Paste (CCP)</a></div>
<div class="linkAHEAD"><a href="textpaste.html">CCP in a Text Component</a></div>
<div class="linkAHEAD"><a href="listpaste.html">CCP in a non-Text Component</a></div>
<div class="linkAHEAD"><a href="dataflavor.html">Using and Creating a DataFlavor</a></div>
<div class="linkAHEAD"><a href="together.html">Putting it All Together - DnD and CCP</a></div>
<div class="linkAHEAD"><a href="info.html">Further Information</a></div>
<div class="linkAHEAD"><a href="problems.html">Solving Common Data Transfer Problems</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Creating a GUI With JFC/Swing</a>
                &gt;
                <a href=index.html target=_top>Drag and Drop and Data Transfer</a>
            </span>
            <div class=NavBit>
                <a target=_top href=locsensitivedemo.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=droplocation.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>Empty Table Drop</h1></div>
            <div id=PageContent>
<!-- Empty Table Drop -->

Dragging and dropping into an empty table presents a unique challenge.  
When adhering to the proper steps:
<ul>
<li>Creating the empty table.
<li>Creating and attaching a <code>TransferHandler</code>.
<li>Enabling data transfer by calling <code>setDragEnabled(true)</code>.
<li>Creating a scroll pane and adding the table to the scroll pane.
</ul>
You run the application and try to drag valid data into the table
but it rejects the drop. 
What gives?
<p>
The reason is that the empty table (unlike an empty list or
an empty tree) does not occupy any space in the scroll pane.
The <code>JTable</code> does not automatically stretch to fill the 
height of a <code>JScrollPane</code>'s viewport &mdash; it only
takes up as much vertical room as needed for the rows that it contains.
So, when you drag over the empty table, you are not actually over the table
and the drop fails.
<p>
You can configure the table to allow drop anywhere in the view port
by calling
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/javax/swing/JTable.html#setFillsViewportHeight(boolean)"><code>JTable.setFillsViewportHeight(boolean)</code></a>. The default for this property is false to ensure backwards compatibility.
<p>
The following example, <code>FillViewportHeightDemo</code>, allows you
to experiment with dropping onto an empty table.  The demo contains
an empty table with five columns that has its drop mode set to
insert rows and a drag source that provides five comma-delimited
values that autoincrement.
<p>

<p><center><IMG SRC="../../figures/uiswing/dnd/FillViewportHeightDemo.png" WIDTH="268" HEIGHT="237" ALIGN="BOTTOM" ALT="A snapshot of the FillViewportHeightDemo."></center></p>
<div class="note"><hr><strong>Try this:</strong>&nbsp;<ol>
<li>
Click the Launch button to run <code>FillViewportHeightDemo</code> using
<a class="TutorialLink" target="_top" href="http://java.sun.com/products/javawebstart/index.jsp">Java&trade; Web Start</a> (<a href="http://java.sun.com/javase/downloads/index.jsp">download JDK 6</a>).
     Alternatively, to compile and run the example yourself,
     consult the
     <a href="../examples/dnd/index.html#FillViewportHeightDemo">example index</a>.
<p>
<center>
<a href="http://download.oracle.com/javase/tutorialJWS/uiswing/dnd/ex6/FillViewportHeightDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="Launches the FillViewportHeightDemo example"></a>
</center>
<p>
<li>Drag from the text field labeled "Drag from here" to the table.
<li>Drop onto the table. The drop is rejected.
<li>Double-click on the drag source.  It deposits the current
    values (0, 0, 0, 0, 0) into the table and increments the
    values in the text field.
<li>Once again, drag from the text field to the table.  You can
    insert above or below the row, but not in the area
    underneath.
<li>From the Options menu, choose "Fill Viewport Height" to enable
    the "fillsViewportHeight" property.
<li>From the Options menu, choose "Reset" to empty the table.
<li>Drag from the text component to the table.  You can now drop
    anywhere on the view port and it inserts the data at row 0.
</ol>
<hr></div>
<p>
You can examine the source for
<a class="SourceLink" target="_blank" href="../examples/dnd/FillViewportHeightDemoProject/src/dnd/FillViewportHeightDemo.java"><code><code>FillViewportHeightDemo.java</code></code></a>, but the primary point to remember is that you should 
generally invoke <code>setFillsViewportHeight(true)</code> on any
table that will accept dropped data.
        </div>
        <div class=NavBit>
            <a target=_top href=locsensitivedemo.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=droplocation.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h1" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id=duke src=../../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h2" align="left" valign="middle"><img id=oracle src=../../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Demo - LocationSensitiveDemo
        <br><b>Next page:</b> Drop Location Rendering
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
