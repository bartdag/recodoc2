
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>The List Interface (The Java&trade; Tutorials &gt;        
            Collections &gt; Interfaces)
</title>

     <meta name="description" content="This collections Java tutorial describes interfaces, implementations, and algorithms in the Java Collections framework" />
     <meta name="keywords" content="java programming, learn java, java sample code, java collections, set, list, queue, map, array, arraylist" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Collections
        <br><b>Lesson:</b> Interfaces
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Interfaces</a></div>
<div class="linkAHEAD"><a href="collection.html">The Collection Interface</a></div>
<div class="linkAHEAD"><a href="set.html">The Set Interface</a></div>
<div class="nolinkAHEAD">The List Interface</div>
<div class="linkAHEAD"><a href="queue.html">The Queue Interface</a></div>
<div class="linkAHEAD"><a href="map.html">The Map Interface</a></div>
<div class="linkAHEAD"><a href="order.html">Object Ordering</a></div>
<div class="linkAHEAD"><a href="sorted-set.html">The SortedSet Interface</a></div>
<div class="linkAHEAD"><a href="sorted-map.html">The SortedMap Interface</a></div>
<div class="linkAHEAD"><a href="summary.html">Summary of Interfaces</a></div>
<div class="linkQUESTIONS"><a href="QandE/questions.html">Questions and Exercises</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Collections</a>
                &gt;
                <a href=index.html target=_top>Interfaces</a>
            </span>
            <div class=NavBit>
                <a target=_top href=set.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=queue.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>The List Interface</h1></div>
            <div id=PageContent>
A
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/List.html"><code>List</code></a> is an ordered
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html"><code>Collection</code></a> (sometimes called a <i>sequence</i>).  Lists may contain duplicate elements.
In addition to the operations inherited from <code>Collection</code>,
the <code>List</code> interface includes operations for the following:
<ul>
<li>
<code>Positional access</code> &mdash; manipulates elements based on their numerical
position in the list
<li>
<code>Search</code> &mdash; searches for a specified object in the list and returns its numerical position
<li>
<code>Iteration</code> &mdash; extends <code>Iterator</code> semantics to
take advantage of the list's sequential nature
<li>
<code>Range-view</code> &mdash; performs arbitrary <i>range operations</i> on the list.
</ul>
<p>
The <code>List</code> interface follows.
<div class="codeblock"><pre>
public interface List&lt;E&gt; extends Collection&lt;E&gt; {
    // Positional access
    E get(int index);
    E set(int index, E element);    //optional
    boolean add(E element);         //optional
    void add(int index, E element); //optional
    E remove(int index);            //optional
    boolean addAll(int index,
        Collection&lt;? extends E&gt; c); //optional

    // Search
    int indexOf(Object o);
    int lastIndexOf(Object o);

    // Iteration
    ListIterator&lt;E&gt; listIterator();
    ListIterator&lt;E&gt; listIterator(int index);

    // Range-view
    List&lt;E&gt; subList(int from, int to);
}
</pre></div>

The Java platform contains two general-purpose <code>List</code>
implementations.
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/ArrayList.html"><code>ArrayList</code></a>, which is usually the better-performing implementation, and
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/LinkedList.html"><code>LinkedList</code></a> which offers better performance under certain circumstances.
Also, <code>Vector</code> has been retrofitted to implement
<code>List</code>.

 
<h2>Comparison to Vector</h2>

If you've used
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/Vector.html"><code>Vector</code></a>, you're already familiar with the general basics of <code>List</code>.  (Of
course, <code>List</code> is an interface, while <code>Vector</code> is a
concrete implementation.)  <code>List</code> fixes several minor API
deficiencies in <code>Vector</code>. Commonly used
<code>Vector</code> operations, such as <code>elementAt</code> and
<code>setElementAt</code>, have been given much shorter names.  When you
consider that these two operations are the <code>List</code> analog of
square brackets for arrays, it becomes apparent that shorter names are highly
desirable.  Consider the following assignment statement.

<div class="codeblock"><pre>
a[i] = a[j].times(a[k]);
</pre></div>

The <code>Vector</code> equivalent is:
<div class="codeblock"><pre>
v.setElementAt(v.elementAt(j).times(v.elementAt(k)), i);
</pre></div>

The <code>List</code> equivalent is:
<div class="codeblock"><pre>
v.set(i, v.get(j).times(v.get(k)));
</pre></div>

You may already have noticed that the <code>set</code> method, which replaces
the <code>Vector</code> method <code>setElementAt</code>,
reverses the order of the arguments so that they match the corresponding
array operation.  Consider the following assignment statement.
<div class="codeblock"><pre>
gift[5] = "golden rings";
</pre></div>

The <code>Vector</code> equivalent is:
<div class="codeblock"><pre>
gift.setElementAt("golden rings", 5);
</pre></div>

The <code>List</code> equivalent is:
<div class="codeblock"><pre>
gift.set(5, "golden rings");
</pre></div>



For consistency's sake, the method <code>add(int, E)</code>, which
replaces <code>insertElementAt(Object, int)</code>, also reverses the order
of the arguments.
<p>
The three range operations in <code>Vector</code>
(<code>indexOf</code>, <code>lastIndexOf</code>, and <code>setSize</code>)
have been replaced by a single range-view operation
(<code>subList</code>), which is far more powerful and consistent.



<h2>Collection Operations</h2>

The operations inherited from <code>Collection</code> all do about what you'd
expect them to do, assuming you're already familiar with them.  If you're not familiar with them from <code>Collection</code>, now would be a
good time to read
<a class="TutorialLink" target="_top" href="collection.html">The Collection Interface</a> section.

The <code>remove</code> operation
always removes <i>the first</i> occurrence of the specified element from the
list.  The <code>add</code> and <code>addAll</code> operations always append
the new element(s) to the <i>end</i> of the list.  Thus, the following idiom
concatenates one list to another.

<div class="codeblock"><pre>
list1.addAll(list2);
</pre></div>

Here's a nondestructive form of this idiom, which produces a third
<code>List</code> consisting of the second list appended to the first.

<div class="codeblock"><pre>
List&lt;Type&gt; list3 = new ArrayList&lt;Type&gt;(list1);
list3.addAll(list2);
</pre></div>

Note that the idiom, in its nondestructive form, takes advantage of
<code>ArrayList</code>'s standard conversion constructor.
<p>
Like the
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/Set.html"><code>Set</code></a> interface, <code>List</code> strengthens the requirements on the
<code>equals</code> and <code>hashCode</code> methods so that two
<code>List</code> objects can be compared for logical equality without
regard to their implementation classes.  Two <code>List</code> objects are
equal if they contain the same elements in the same order.


<h2>Positional Access and Search Operations</h2>

The basic <code>positional access</code> operations (<code>get</code>, <code>set</code>,
<code>add</code> and <code>remove</code>) behave just like their longer-named
counterparts in <code>Vector</code> (<code>elementAt</code>,
<code>setElementAt</code>, <code>insertElementAt</code>, and
<code>removeElementAt</code>) with one noteworthy exception:
The <code>set</code> and <code>remove</code> operations return the old value
that is being overwritten or removed; the <code>Vector</code> counterparts
(<code>setElementAt</code> and <code>removeElementAt</code>)
return nothing (<code>void</code>).  The <code>search</code> operations
<code>indexOf</code> and <code>lastIndexOf</code> behave exactly like the
identically named operations in <code>Vector</code>.

<p>

The <code>addAll</code> operation inserts all the elements of the specified
<code>Collection</code> starting at the specified position.  The elements are
inserted in the order they are returned by the specified
<code>Collection</code>'s iterator.  This call is
the positional access analog of <code>Collection</code>'s
<code>addAll</code> operation.
<p>
Here's a little method to swap two indexed values in a <code>List</code>.
It should look familiar from Programming 101.
<div class="codeblock"><pre>
public static &lt;E&gt; void swap(List&lt;E&gt; a, int i, int j) {
    E tmp = a.get(i);
    a.set(i, a.get(j));
    a.set(j, tmp);
}
</pre></div>
<a name="shuffle">
Of course, there's one big difference.</a>
This is a polymorphic algorithm: It swaps two elements in any
<code>List</code>, regardless of its implementation type.  Here's another
polymorphic algorithm that uses the preceding <code>swap</code> method.
<div class="codeblock"><pre>
public static void shuffle(List&lt;?&gt; list, Random rnd) {
    for (int i = list.size(); i &gt; 1; i--)
        swap(list, i - 1, rnd.nextInt(i));
}
</pre></div>
This algorithm, which is included in the Java platform's
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/Collections.html"><code>Collections</code></a> class, randomly permutes the specified list using the specified
source of randomness.  It's a bit subtle: It runs up the list
from the bottom, repeatedly swapping a randomly selected element into the
current position.  Unlike most naive attempts at shuffling, it's <i>fair</i>
(all permutations occur with equal likelihood, assuming an unbiased source of
randomness) and <i>fast</i> (requiring exactly <code>list.size()-1</code>
swaps).  The following program uses this algorithm to print the
words in its argument list in random order.

<div class="codeblock"><pre>
import java.util.*;

public class Shuffle {
    public static void main(String[] args) {
        List&lt;String&gt; list = new ArrayList&lt;String&gt;();
        for (String a : args)
            list.add(a);
        Collections.shuffle(list, new Random());
        System.out.println(list);
    }
}
</pre></div>

In fact, this program can be made even shorter and faster.  The
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/util/Arrays.html"><code>Arrays</code></a> class has a static factory method called
<code>asList</code>, which allows an array to be viewed as a
<code>List</code>.  This method does not copy the array.
Changes in the <code>List</code> write through to the array and
vice versa.  The resulting List is not a general-purpose
<code>List</code> implementation, because it doesn't implement the (optional)
<code>add</code> and <code>remove</code> operations: Arrays are not resizable.
Taking advantage of <code>Arrays.asList</code> and calling the library
version of <code>shuffle</code>, which uses a default source of randomness,
you get the following
<a class="SourceLink" target="_blank" href="examples/Shuffle.java"><code>tiny program</code></a> whose behavior is identical to the previous program.
<div class="codeblock"><pre>

import java.util.*;

public class Shuffle {
    public static void main(String[] args) {
        List&lt;String&gt; list = Arrays.asList(args);
        Collections.shuffle(list);
        System.out.println(list);
    }
}
</pre></div>


<a name="Iterator"><h2>Iterators</h2></a>

As you'd expect, the <code>Iterator</code> returned by <code>List</code>'s
<code>iterator</code> operation returns the elements of the list
in proper sequence.  <code>List</code> also provides a richer
iterator, called a <code>ListIterator</code>, which allows you to traverse the
list in either direction, modify the list during
iteration, and obtain the current position of the iterator.  The
<code>ListIterator</code> interface follows.
<div class="codeblock"><pre>
public interface ListIterator&lt;E&gt; extends Iterator&lt;E&gt; {
    boolean hasNext();
    E next();
    boolean hasPrevious();
    E previous();
    int nextIndex();
    int previousIndex();
    void remove(); //optional
    void set(E e); //optional
    void add(E e); //optional
}
</pre></div>

The three methods that <code>ListIterator</code> inherits from
<code>Iterator</code> (<code>hasNext</code>, <code>next</code>, and
<code>remove</code>) do exactly the same thing in both interfaces.
The <code>hasPrevious</code> and the <code>previous</code> operations
are exact analogues of <code>hasNext</code> and <code>next</code>.
The former operations refer to the element before the (implicit) cursor,
whereas the latter refer to the element after the cursor.  The
<code>previous</code> operation moves the cursor backward, whereas
<code>next</code> moves it forward.
<p>
Here's the standard idiom for iterating backward through a list.
<div class="codeblock"><pre>
for (ListIterator&lt;Type&gt; it = list.listIterator(list.size());
     it.hasPrevious(); ) {
    Type t = it.previous();
    ...
}
</pre></div>
Note the argument to <code>listIterator</code> in the preceding idiom.  The
<code>List</code> interface has two forms of the <code>listIterator</code>
method.  The form with no arguments returns a <code>ListIterator</code>
positioned at the beginning of the list; the form with an
<code>int</code> argument returns a <code>ListIterator</code> positioned at
the specified index.  The index refers to the element that would be returned
by an initial call to <code>next</code>. An initial call to
<code>previous</code> would return the element whose index was
<code>index-1</code>.  In a list of length <code>n</code>, there are
<code>n+1</code> valid values for <code>index</code>, from <code>0</code> to
<code>n</code>, inclusive.
<p>
Intuitively speaking, the cursor is always between two elements &mdash; the one that would be returned by a call to <code>previous</code> and the one that
would be returned by a call to <code>next</code>.  The <code>n+1</code> valid
<code>index</code> values correspond to the <code>n+1</code> gaps between
elements, from the gap before the first element to the gap after the last one.

<span id="figure:colls-fivePossibleCursor.gif">The following figure</span> shows the five possible cursor positions in a
list containing four elements.

<center><p><IMG SRC="../../figures/collections/colls-fivePossibleCursor.gif" WIDTH="367" HEIGHT="67" ALIGN="BOTTOM" ALT="Five arrows representing five cursor positions, from 0 to 4, with four elements, one between each arrow."></p><p class="FigureCaption">The five possible cursor positions.</p></center>
Calls to <code>next</code> and <code>previous</code> can be intermixed, but
you have to be a bit careful.  The first call to <code>previous</code>
returns the same element as the last call to <code>next</code>.  Similarly,
the first call to <code>next</code> after a sequence of calls to
<code>previous</code> returns the same element as the last call to
<code>previous</code>.
<p>
It should come as no surprise that the <code>nextIndex</code> method returns
the index of the element that would be returned by a subsequent call to
<code>next</code>, and <code>previousIndex</code> returns the
 index of the element that would be returned by a subsequent call to
<code>previous</code>.  These calls are typically used either to
report the position where something was found or to record the
position of the <code>ListIterator</code> so that another
<code>ListIterator</code> with identical position can be created.
<p>
It should also come as no surprise that the number returned by
<code>nextIndex</code> is always one greater than the number returned
by <code>previousIndex</code>.  This implies the behavior of the two boundary
cases: (1) a call to <code>previousIndex</code> when the cursor is before the
initial element returns <code>-1</code> and (2) a call to <code>nextIndex</code>
when the cursor is after the final element returns <code>list.size()</code>.
To make all this concrete, the following is a possible implementation of
<code>List.indexOf</code>.
<div class="codeblock"><pre>
public int indexOf(E e) {
    for (ListIterator&lt;E&gt; it = listIterator(); it.hasNext(); )
        if (e == null ? it.next() == null : e.equals(it.next()))
            return it.previousIndex();
    return -1;  // Element not found
}
</pre></div>

Note that the <code>indexOf</code> method returns
<code>it.previousIndex()</code> even though it is traversing the list
in the forward direction.  The reason is that <code>it.nextIndex()</code> would
return the index of the element we are about to examine, and we want to
return the index of the element we just examined.

<p>

The <code>Iterator</code> interface provides the <code>remove</code> operation
to remove the last element returned by <code>next</code> from the <code>Collection</code>. For <code>ListIterator</code>, this operation removes
the last element returned by <code>next</code> or <code>previous</code>. The
<code>ListIterator</code> interface provides two
additional operations to modify the list &mdash; <code>set</code> and
<code>add</code>.  The <code>set</code> method overwrites the
last element returned by <code>next</code> or <code>previous</code> with the
specified element.  The following polymorphic algorithm uses <code>set</code>
to replace all occurrences of one specified value with another.
<div class="codeblock"><pre>
public static &lt;E&gt; void replace(List&lt;E&gt; list, E val, E newVal) {
    for (ListIterator&lt;E&gt; it = list.listIterator(); it.hasNext(); )
        if (val == null ? it.next() == null : val.equals(it.next()))
            it.set(newVal);
}
</pre></div>
The only bit of trickiness in this example is the equality test between
<code>val</code> and <code>it.next</code>. You need to special-case a
<code>val</code> value of <code>null</code> to prevent a
<code>NullPointerException</code>.
<p>
The <code>add</code> method inserts a new element into
the list immediately before the current cursor position.
This method is illustrated in the following polymorphic algorithm
to replace all occurrences of a specified value with the sequence of values
contained in the specified list.
<div class="codeblock"><pre>
public static &lt;E&gt; void replace(List&lt;E&gt; list, E val,
                               List&lt;? extends E&gt; newVals) {
    for (ListIterator&lt;E&gt; it = list.listIterator(); it.hasNext(); ){
        if (val == null ? it.next() == null : val.equals(it.next())) {
            it.remove();
            for (E e : newVals)
                it.add(e);
        }
    }
}
</pre></div>


<h2>Range-View Operation</h2>

The <code>range-view</code> operation, <code>subList(int fromIndex, int toIndex)</code>, returns a <code>List</code> view of the portion of this
list whose indices range from <code>fromIndex</code>, inclusive,
to <code>toIndex</code>, exclusive.  This <i>half-open range</i> mirrors the
typical <code>for</code> loop.
<div class="codeblock"><pre>
for (int i = fromIndex; i &lt; toIndex; i++) {
    ...
}
</pre></div>
As the term <i>view</i> implies, the returned <code>List</code> is backed up by
the <code>List</code> on which <code>subList</code> was called,
so changes in the former are reflected in the latter.
<p>
This method eliminates the need for explicit range operations (of
the sort that commonly exist for arrays).   Any operation that expects
a <code>List</code> can be used as a range operation by passing a
<code>subList</code> view instead of a whole <code>List</code>.  For example, the following
idiom removes a range of elements from a <code>List</code>.
<div class="codeblock"><pre>
list.subList(fromIndex, toIndex).clear();
</pre></div>
Similar idioms can be constructed to search for an element in a range.

<div class="codeblock"><pre>
int i = list.subList(fromIndex, toIndex).indexOf(o);
int j = list.subList(fromIndex, toIndex).lastIndexOf(o);
</pre></div>

Note that the preceding idioms return the index of the found element in the
<code>subList</code>, not the index in the backing <code>List</code>.
<p>
Any polymorphic algorithm that operates on a <code>List</code>, such as
the <code>replace</code> and <code>shuffle</code> examples,
works with the <code>List</code> returned by <code>subList</code>.
<p>
Here's a polymorphic algorithm whose implementation uses <code>subList</code>
to deal a hand from a deck. That is, it returns a new
<code>List</code> (the "hand") containing the specified number of elements
taken from the end of the specified <code>List</code> (the "deck").  The
elements returned in the hand are removed from the deck.
<div class="codeblock"><pre>
public static &lt;E&gt; List&lt;E&gt; dealHand(List&lt;E&gt; deck, int n) {
    int deckSize = deck.size();
    List&lt;E&gt; handView = deck.subList(deckSize - n, deckSize);
    List&lt;E&gt; hand = new ArrayList&lt;E&gt;(handView);
    handView.clear();
    return hand;
}
</pre></div>
Note that this algorithm removes the hand from the <i>end</I> of the deck.
For many common <code>List</code> implementations, such as <code>ArrayList</code>,
the performance of removing elements from the end of the list is substantially
better than that of removing elements from the beginning.
<P>
The following is
<a class="SourceLink" target="_blank" href="examples/Deal.java"><code>a program</code></a> that uses the
<code>dealHand</code> method in combination with
<code>Collections.shuffle</code> to generate hands from a normal 52-card deck.
The program takes two command-line arguments: (1) the number of hands to deal and (2) the number of cards in each hand.

<div class="codeblock"><pre>
import java.util.*;

public class Deal {
  public static void main(String[] args) {
    if (args.length &lt; 2) {
      System.out.println("Usage: Deal hands cards");
      return;
    }
    int numHands = Integer.parseInt(args[0]);
    int cardsPerHand = Integer.parseInt(args[1]);
    
    // Make a normal 52-card deck.
    String[] suit = new String[] {
        "spades", "hearts", "diamonds", "clubs" };
    String[] rank = new String[] {
        "ace","2","3","4","5","6","7","8",
        "9","10","jack","queen","king" };
    List&lt;String&gt; deck = new ArrayList&lt;String&gt;();
    for (int i = 0; i &lt; suit.length; i++)
      for (int j = 0; j &lt; rank.length; j++)
        deck.add(rank[j] + " of " + suit[i]);
    
    // Shuffle the deck.
    Collections.shuffle(deck);
    
    if (numHands * cardsPerHand &gt; deck.size()) {
      System.out.println("Not enough cards.");
      return;
    }
    
    for (int i=0; i &lt; numHands; i++)
      System.out.println(dealHand(deck, cardsPerHand));
  }
  
  public static &lt;E&gt; List&lt;E&gt; dealHand(List&lt;E&gt; deck, int n) {
    int deckSize = deck.size();
    List&lt;E&gt; handView = deck.subList(deckSize - n, deckSize);
    List&lt;E&gt; hand = new ArrayList&lt;E&gt;(handView);
    handView.clear();
    return hand;
  }
}
</pre></div>
Running the program produces output like the following.
<div class="codeblock"><pre>
% java Deal 4 5

[8 of hearts, jack of spades, 3 of spades, 4 of spades,
    king of diamonds]
[4 of diamonds, ace of clubs, 6 of clubs, jack of hearts,
    queen of hearts]
[7 of spades, 5 of spades, 2 of diamonds, queen of diamonds,
    9 of clubs]
[8 of spades, 6 of diamonds, ace of spades, 3 of hearts,
    ace of hearts]
</pre></div>

<p>
Although the <code>subList</code> operation is extremely powerful, some care must
be exercised when using it.  The semantics of the <code>List</code> returned
by <code>subList</code> become undefined if elements are added to or removed
from the backing <code>List</code> in any way other than via the returned <code>List</code>.
Thus, it's highly recommended that you use the <code>List</code> returned
by <code>subList</code> only as a transient object &mdash; to perform one or a
sequence of range operations on the backing <code>List</code>.  The longer
you use the <code>subList</code> instance, the greater the probability
that you'll compromise it by modifying the backing <code>List</code> directly
or through another <code>subList</code> object. Note that it is legal to modify a sublist of a sublist and to continue using the original sublist (though not concurrently).



<h2>List Algorithms</h2>

Most polymorphic algorithms in the <code>Collections</code> class apply
specifically to <code>List</code>.  Having all these algorithms at your
disposal makes it very easy to manipulate lists.  Here's a
summary of these algorithms, which are described in more detail in the

<a class="TutorialLink" target="_top" href="../algorithms/index.html">Algorithms</a> section.
<ul>
<li><code>sort</code> &mdash; sorts a <code>List</code> using a merge sort
algorithm, which provides a fast, stable sort.  (A <i>stable sort</i> is one
that does not reorder equal elements.)

<li><code>shuffle</code> &mdash; randomly permutes the
elements in a <code>List</code>.

<li><code>reverse</code> &mdash; reverses the order of the
elements in a <code>List</code>.

<li><code>rotate</code> &mdash; rotates all the elements in a <code>List</code> by a specified distance.

<li><code>swap</code> &mdash; swaps the elements at specified positions in a <code>List</code>.

<li><code>replaceAll</code> &mdash; replaces all occurrences of one specified value with another.

<li><code>fill</code> &mdash; overwrites every
element in a <code>List</code> with the specified value.

<li><code>copy</code> &mdash; copies the
source <code>List</code> into the destination <code>List</code>.

<li><code>binarySearch</code> &mdash; searches for an
element in an ordered <code>List</code> using the binary search algorithm.

<li><code>indexOfSubList</code> &mdash; returns the index of the first sublist of one <code>List</code> that is equal to another.

<li><code>lastIndexOfSubList</code> &mdash; returns the index of the last sublist of one <code>List</code> that is equal to another.
</ul>
        </div>
        <div class=NavBit>
            <a target=_top href=set.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=queue.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h1" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id=duke src=../../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h2" align="left" valign="middle"><img id=oracle src=../../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> The Set Interface
        <br><b>Next page:</b> The Queue Interface
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
