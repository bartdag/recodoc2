<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>Reading, Writing, and Creating Files (The Java&trade; Tutorials &gt;        
            Essential Classes &gt; Basic I/O)
</title>

     <meta name="description" content="This Java tutorial describes exceptions, basic input/output, concurrency, regular expressions, and the platform environment" />
     <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java threads, java regex, regular expressions, path, classpath, environment variable" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Essential Classes
        <br><b>Lesson:</b> Basic I/O
        <br><b>Section:</b> File I/O (Featuring NIO.2)
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Basic I/O</a></div>
<div class="linkAHEAD"><a href="streams.html">I/O Streams</a></div>
<div class="linkBHEAD"><a href="bytestreams.html">Byte Streams</a></div>
<div class="linkBHEAD"><a href="charstreams.html">Character Streams</a></div>
<div class="linkBHEAD"><a href="buffers.html">Buffered Streams</a></div>
<div class="linkBHEAD"><a href="scanfor.html">Scanning and Formatting</a></div>
<div class="linkCHEAD"><a href="scanning.html">Scanning</a></div>
<div class="linkCHEAD"><a href="formatting.html">Formatting</a></div>
<div class="linkBHEAD"><a href="cl.html">I/O from the Command Line</a></div>
<div class="linkBHEAD"><a href="datastreams.html">Data Streams</a></div>
<div class="linkBHEAD"><a href="objectstreams.html">Object Streams</a></div>
<div class="linkAHEAD"><a href="fileio.html">File I/O (Featuring NIO.2)</a></div>
<div class="linkBHEAD"><a href="path.html">What Is a Path? (And Other File System Facts)</a></div>
<div class="linkBHEAD"><a href="pathClass.html">The Path Class</a></div>
<div class="linkCHEAD"><a href="pathOps.html">Path Operations</a></div>
<div class="linkBHEAD"><a href="fileOps.html">File Operations</a></div>
<div class="linkBHEAD"><a href="check.html">Checking a File or Directory</a></div>
<div class="linkBHEAD"><a href="delete.html">Deleting a File or Directory</a></div>
<div class="linkBHEAD"><a href="copy.html">Copying a File or Directory</a></div>
<div class="linkBHEAD"><a href="move.html">Moving a File or Directory</a></div>
<div class="linkBHEAD"><a href="fileAttr.html">Managing Metadata (File and File Store Attributes)</a></div>
<div class="nolinkBHEAD">Reading, Writing, and Creating Files</div>
<div class="linkBHEAD"><a href="rafs.html">Random Access Files</a></div>
<div class="linkBHEAD"><a href="dirs.html">Creating and Reading Directories</a></div>
<div class="linkBHEAD"><a href="links.html">Links, Symbolic or Otherwise</a></div>
<div class="linkBHEAD"><a href="walk.html">Walking the File Tree</a></div>
<div class="linkBHEAD"><a href="find.html">Finding Files</a></div>
<div class="linkBHEAD"><a href="notification.html">Watching a Directory for Changes</a></div>
<div class="linkBHEAD"><a href="misc.html">Other Useful Methods</a></div>
<div class="linkBHEAD"><a href="legacy.html">Legacy File I/O Code</a></div>
<div class="linkAHEAD"><a href="summary.html">Summary</a></div>
<div class="linkQUESTIONS"><a href="QandE/questions.html">Questions and Exercises</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Essential Classes</a>
                &gt;
                <a href=index.html target=_top>Basic I/O</a>
            </span>
            <div class=NavBit>
                <a target=_top href=fileAttr.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=rafs.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>Reading, Writing, and Creating Files</h1></div>
            <div id=PageContent>
<!-- Reading, Writing and Creating Files -->
<p>
This page discusses the details of reading, writing, creating,
and opening files.
There are a wide array of file I/O methods to choose from.
To help make sense of the API,
the following diagram arranges the file I/O methods by complexity.
<p>
<center><p><IMG SRC="../../figures/essential/io-fileiomethods.png" WIDTH="622" HEIGHT="289" ALIGN="BOTTOM" ALT="Line drawing with file I/O methods arranged from least complex (on the left) to most complex (on the right)."></p><p class="FigureCaption"><center>File I/O Methods Arranged from Less Complex to More Complex</center></p></center><p>
On the far left of the diagram are the utility methods
<code>readAllBytes</code>,
<code>readAllLines</code>, and the <code>write</code> methods,
designed for simple, common cases.
To the right of those are the the methods used to iterate over a stream
or lines of text, such as <code>newInputStream</code>,
<code>newBufferedReader</code>, then <code>newInputStream</code> and
<code>newOutputStream</code>. These methods are interoperable
with with the <code>java.io</code> package.
To the right of those are the
methods for dealing with <code>ByteChannels</code>,
<code>SeekableByteChannels</code>, and <code>ByteBuffers</code>,
such as the <code>newByteChannel</code> method.
Finally, on the far right are the methods that use
<code>FileChannel</code> for advanced applications needing file locking
or memory-mapped I/O.
<p>
<div class="note"><hr><strong>Note:</strong>&nbsp;The methods for creating a new file enable you to specify an
optional set of initial attributes for the file.
For example, on a file system that supports the POSIX set of standards (such
as UNIX), you can specify a file owner, group owner, or file permissions at
the time the file is created.
The 
<a class="TutorialLink" target="_top" href="fileAttr.html">Managing Metadata</a> page explains file attributes, and how to access and set them.
<hr></div>
<p>
This page has the following topics:
<ul>
<li><a href="#openOptions">The <code>OpenOptions</code> Parameter</a></li>
<li><a href="#common">Commonly Used Methods for Small Files</a></li>
<li><a href="#textfiles">Buffered I/O Methods for Text Files</a></li>
<li><a href="#streams">Methods for Unbuffered Streams and Interoperable with <code>java.io</code> APIs</a></li>
<li><a href="#channels">Methods for Channels and <code>ByteBuffers</code></a></li>
<li><a href="#creating">Methods for Creating Regular and Temporary Files</a></li>
</ul>

<p>
<hr>
<h2><a name="openOptions">The <code>OpenOptions</code> Parameter</a></h2>
<p>
Several of the methods in this section take an optional
<code>OpenOptions</code> parameter. This parameter is optional and
the API tells you what the default behavior is for the method when none
is specified.
<p>
The following <code>StandardOpenOptions</code> enums are supported:
</p>
<p>
<ul>
<li><code>WRITE</code> &ndash; Opens the file for write access.
<li><code>APPEND</code> &ndash; Appends the new data to the end of the file.
This option is used with the <code>WRITE</code> or <code>CREATE</code> options.
<li><code>TRUNCATE_EXISTING</code> &ndash; Truncates the file to zero bytes.
This option is used with the <code>WRITE</code> option.
<li><code>CREATE_NEW</code> &ndash; Creates a new file and throws an exception
if the file already exists.
<li><code>CREATE</code> &ndash; Opens the file if it exists or creates a new
file if it does not.
<li><code>DELETE_ON_CLOSE</code> &ndash; Deletes the file when the stream is closed.
This option is useful for temporary files.
<li><code>SPARSE</code> &ndash; Hints that a newly created file will be sparse.
This advanced option is honored on some file systems, such as NTFS, where large
files with data "gaps" can be stored in a more efficient manner where those
empty gaps do not consume disk space.
<li><code>SYNC</code> &ndash; Keeps the file (both content and metadata)
synchronized with the underlying storage device.
<li><code>DSYNC</code> &ndash; Keeps the file content synchronized
with the underlying storage device.
</ul>

<p>
<hr>
<h2><a name="common">Commonly Used Methods for Small Files</a></h2>

<h3><a name="readAllLines">Reading All Bytes or Lines from a File</a></h3>
<p>
If you have a small-ish file and you would like to read its
entire contents in one pass, you can use the
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#readAllBytes(java.nio.file.Path)"><code>readAllBytes(Path)</code></a> or
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path, java.nio.charset.Charset)"><code>readAllLines(Path, Charset)</code></a> method.  These methods take care of most of the work for you,
such as opening and closing the stream, but are not intended
for handling large files.  The following code shows how to use
the <code>readAllBytes</code> method:
<div class="codeblock"><pre>
Path file = ...;
byte[] fileArray;
fileArray = Files.readAllBytes(file);
</pre></div>


<h3><a name="writeAllLines">Writing All Bytes or Lines to a File</a></h3>

<p>You can use one of the write methods to write bytes, or lines, to a file.</p>

<ul>
<li>
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20byte[],%20java.nio.file.OpenOption...)"><code>write(Path, byte[], OpenOption...)</code></a><li>
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20java.lang.Iterable,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)"><code>write(Path, Iterable&lt; extends CharSequence&gt;, Charset, OpenOption...)</code></a></ul>
<p>
The following code snippet shows how to use a <code>write</code> method.
<div class="codeblock"><pre>
Path file = ...;
byte[] buf = ...;
Files.write(file, buf);

</pre></div>

<p>
<hr>
<h2><a name="textfiles">Buffered I/O Methods for Text Files</a></h2
<p>
The <code>java.nio.file</code> package supports
channel I/O, which moves data in buffers, bypassing some of the layers
that can bottleneck stream I/O.
<p>
<h3><a name="readBufferedStream">Reading a File by Using Buffered Stream I/O</a></h3>
<p>
The
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#newBufferedReader(java.nio.file.Path,%20java.nio.charset.Charset)"><code>newBufferedReader(Path, Charset)</code></a> method opens a file for reading, returning a <code>BufferedReadder</code>
that can be used to read text from a file in an efficient manner.
<p>
The following code snippet shows how to use the
<code>newBufferedReader</code> method to read from a file.
The file is encoded in "US-ASCII."
<p>
<div class="codeblock"><pre>
Charset charset = Charset.forName("US-ASCII");
try (BufferedReader reader = Files.newBufferedReader(file, charset)) {
    String line = null;
    while ((line = reader.readLine()) != null) {
	System.out.println(line);
    }
} catch (IOException x) {
	System.err.format("IOException: %s%n", x);
}
</pre></div>

<p>
<h3><a name="writeBufferedStream">Writing a File by Using Buffered Stream I/O</a></h3>
<p>

You can use the
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#newBufferedWriter(java.nio.file.Path,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)"><code>newBufferedWriter(Path, Charset, OpenOption...)</code></a> method to write to a file using a <code>BufferedWriter</code>.
<p>
The following code snippet shows how to create a file encoded in
"US-ASCII" using this method:
<div class="codeblock"><pre>
Charset charset = Charset.forName("US-ASCII");
String s = ...;
try (BufferedWriter writer = Files.newBufferedWriter(file, charset)) {
    writer.write(s, 0, s.length());
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
}
</pre></div>

<p>
<hr>
<h2><a name="streams">Methods for Unbuffered Steams and Interoperable with <code>java.io</code> APIs</a></h2>
<p>
<h3><a name="readStream">Reading a File by Using Stream I/O</a></h3>
<p>
To open a file for reading, you can use the
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#newInputStream(java.nio.file.Path, java.nio.file.OpenOption...)"><code>newInputStream(Path, OpenOption...)</code></a> method.  This method returns an unbuffered input stream for reading
bytes from the file.
<p>
<div class="codeblock"><pre>
Path file = ...;
try (InputStream in = Files.newInputStream(file);
     BufferedReader reader = new BufferedReader(new InputStreamReader(in))) {
    String line = null;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
} catch (IOException x) {
    System.err.println(x);
}
</pre></div>

<p>
<h3><a name="createStream">Creating and Writing a File by Using Stream I/O</a></h3>
<p>
You can create a file, append to a file, or write to a file by using the
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#newOutputStream(java.nio.file.Path, java.nio.file.OpenOption...)"><code>newOutputStream(Path, OpenOption...)</code></a> method.
This method opens or creates a file for writing
bytes and returns an unbuffered output stream.
<p>
The method takes an optional <code>OpenOption</code> parameter.
If no open options are specified, and the file does not exist, a new
file is created.  If the file exists, it is truncated.
This option is equivalent to invoking the method
with the <code>CREATE</code> and <code>TRUNCATE_EXISTING</code> options.
<p>
The following code snippet opens a log file.  If the file does not exist,
it is created. If the file exists, it is opened for appending.
<div class="codeblock"><pre>
import static java.nio.file.StandardOpenOption.*;

Path logfile = ...;

//Convert the string to a byte array.
String s = ...;
byte data[] = s.getBytes();

try (OutputStream out = new BufferedOutputStream(logfile.newOutputStream(CREATE, APPEND))) {
    ...
    out.write(data, 0, data.length);
} catch (IOException x) {
    System.err.println(x);
}
</pre></div>

<p>
<hr>
<h2><a name="channels">Methods for Channels and <code>ByteBuffers</code></a></h2>
<p>
<h3><a name="channelio">Reading and Writing Files by Using Channel I/O</a></h3>
<p>
While stream I/O reads a character at a time, channel I/O reads a buffer
at a time.  The
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/nio/channels/ByteChannel.html"><code>ByteChannel</code></a> interface provides basic <code>read</code> and <code>write</code>
functionality.  A
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/channels/SeekableByteChannel.html"><code>SeekableByteChannel</code></a> is a <code>ByteChannel</code> that has the capability
to maintain a position in the channel and to change that position.
A <code>SeekableByteChannel</code> also supports truncating the file
associated with the channel and querying the file for its size.
<p>
The capability to move to different points in the file and then read from
or write to that location makes random access of a file possible.
See
<a class="TutorialLink" target="_top" href="rafs.html">Random Access Files</a> for more information.
<p>
There are two methods for reading and writing channel I/O.

<ul>
<li>
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#newByteChannel(java.nio.file.Path, java.nio.file.OpenOption...)"><code>newByteChannel(Path, OpenOption...)</code></a><li>
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#newByteChannel(java.nio.file.Path, java.util.Set, java.nio.file.attribute.FileAttribute...)"><code>newByteChannel(Path, Set&lt;? extends OpenOption&gt;, FileAttribute&lt;?&gt;...)</code></a></ul>
<p>
<div class="note"><hr><strong>Note:</strong>&nbsp;The <code>newByteChannel</code>
methods return an instance of a <code>SeekableByteChannel</code>.
With a default file system, you can cast this seekable
byte channel to a
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/channels/FileChannel.html"><code>FileChannel</code></a> providing access to more advanced features such mapping a region of the file
directly into memory for faster access, locking a region of the file so
other processes cannot access it, or reading and writing bytes from an
absolute position without affecting the channel's current position.
<hr></div>
<p>
Both <code>newByteChannel</code> methods enable you to specify
a list of <code>OpenOption</code> options.
The same <a href="#openOptions">open options</a>
used by the <code>newOutputStream</code> methods are supported,
in addition to one more option: <code>READ</code> is
required because the <code>SeekableByteChannel</code> supports
both reading and writing.
<p>
Specifying <code>READ</code> opens the channel for reading.  Specifying
<code>WRITE</code> or <code>APPEND</code> opens the channel for writing.
If none of these options is specified, the channel is opened for reading.
<p>
The following code snippet reads a file and prints it to standard output:
<div class="codeblock"><pre>
//Defaults to READ
try (SeekableByteChannel sbc = Files.newByteChannel(file)) {
    ByteBuffer buf = ByteBuffer.allocate(10);

    //Read the bytes with the proper encoding for this platform.
    //If you skip this step, you might see something that looks like Chinese
    //characters when you expect Latin-style characters.
    String encoding = System.getProperty("file.encoding");
    while (sbc.read(buf) > 0) {
        buf.rewind();
        System.out.print(Charset.forName(encoding).decode(buf));
        buf.flip();
    }
} catch (IOException x) {
    System.out.println("caught exception: " + x);
</pre></div>
<p>
The following code snippet, written for UNIX and other POSIX file systems,
creates a log file with a specific set of file permissions.
This code creates a log file or appends to the log file if it
already exists.  The log file is created with read/write permissions for owner
and read only permissions for group.
<p>
<div class="codeblock"><pre>
import static java.nio.file.StandardCopyOption.*;

//Create the set of options for appending to the file.
Set&lt;OpenOptions&gt; options = new HashSet&lt;OpenOption&gt;();
options.add(APPEND);
options.add(CREATE);

//Create the custom permissions attribute.
Set&lt;PosixFilePermission&gt; perms = PosixFilePermissions.fromString("rw-r------");
FileAttribute&lt;Set&lt;PosixFilePermission&gt;&gt; attr = PosixFilePermissions.asFileAttribute(perms);

//Convert the string to a ByteBuffer.
String s = ...;
byte data[] = s.getBytes();
ByteBuffer bb = ByteBuffer.wrap(data);

try (SeekableByteChannel sbc = Files.newByteChannel(file, options, attr)) {
    sbc.write(bb);
} catch (IOException x) {
    System.out.println("exception thrown: " + x);
}
</pre></div>

<p>
<hr>
<h2><a name="creating">Methods for Creating Regular and Temporary Files</a></h2>
<p>
<h3><a name="createFile">Creating Files</a></h3>
<p>
You can create an empty file with an initial set of attributes by using the
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#createFile(java.nio.file.Path, java.nio.file.attribute.FileAttribute...)"><code>createFile(Path, FileAttribute&lt;?&gt;)</code></a> method.  For example, if, at the time of creation,
you want a file to have particular set of file
permissions, use the <code>createFile</code> method to do so.
If you do not specify any attributes, the file is created with
default attributes.
If the file already exists, <code>createFile</code> throws an exception.
<p>
In a single atomic operation,
the <code>createFile</code> method checks for the existence of the file and
creates that file with the specified attributes,
which makes the process more secure against malicious code.
<p>
The following code snippet creates a file with default
attributes:
<div class="codeblock"><pre>
Path file = ...;
try {
    Files.createFile(file);   //Create the empty file with default permissions, etc.
} catch (FileAlreadyExistsException x) {
    System.err.format("file named %s already exists%n", file);
} catch (IOException x) {
    //Some other sort of failure, such as permissions.
    System.err.format("createFile error: %s%n", x);
}
</pre></div>

<p>
<a class="TutorialLink" target="_top" href="fileAttr.html#posix">POSIX File Permissions</a> has an example that uses <code>createFile(Path, FileAttribute&lt;?&gt;)</code>
to create a file with pre-set permissions.
<p>
You can also create a new file by using the <code>newOutputStream</code> methods,
as described in
<a class="TutorialLink" target="_top" href="file.html#createStream">Creating and Writing a File using Stream I/O</a>.  If you open a new output stream and close it
immediately, an empty file is created.

<p>
<h3><a name="createTempFile">Creating Temporary Files</a></h3>

You can create a temporary file using one of the following 
<code>createTempFile</code> methods:
<ul>
<li>
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#createTempFile(java.nio.file.Path,%20java.lang.String,%20java.lang.String,%20java.nio.file.attribute.FileAttribute...)"><code>createTempFile(Path, String, String, FileAttribute&lt;?&gt;)</code></a><li>
<a class="APILink" target="_blank" href="http://download.java.net/jdk7/docs/api/java/nio/file/Files.html#createTempFile(java.lang.String,%20java.lang.String,%20java.nio.file.attribute.FileAttribute...)"><code>createTempFile(String, String, FileAttribute&lt;?&gt;)</code></a></ul>
<p>
The first method allows the code to specify a directory for the temporary
file and the second method creates a new file in the default
temporary-file directory. Both methods allow you to specify a suffix
for the filename and the first method allows you to also specify a prefix.
The following code snippet gives an example of the second method:
<div class="codeblock"><pre>
try {
    Path tempFile = Files.createTempFile(null, ".myapp");
    System.out.format("The temporary file has been created: %s%n", tempFile)
;
} catch (IOException x) {
    System.err.format("IOException: %s%n", x);
}
</pre></div>
<p>
The result of running this file would be something like the following:
<div class="codeblock"><pre>
The temporary file has been created: /tmp/509668702974537184.myapp
</pre></div>
The specific format of the temporary file name is platform specific.
        </div>
        <div class=NavBit>
            <a target=_top href=fileAttr.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=rafs.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h1" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id=duke src=../../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h2" align="left" valign="middle"><img id=oracle src=../../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Managing Metadata (File and File Store Attributes)
        <br><b>Next page:</b> Random Access Files
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
