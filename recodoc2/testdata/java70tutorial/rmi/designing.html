<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>Designing a Remote Interface (The Java&trade; Tutorials &gt;        
            RMI)
</title>

     <meta name="description" content="This RMI Java tutorial describes the Java RMI system. It walks through a complete client/server example" />
     <meta name="keywords" content="java programming, learn java, java sample code, java rmi, java client server" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> RMI
        <br><b>Section:</b> Writing an RMI Server
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkAHEAD"><a href="overview.html">An Overview of RMI Applications</a></div>
<div class="linkAHEAD"><a href="server.html">Writing an RMI Server</a></div>
<div class="nolinkBHEAD">Designing a Remote Interface</div>
<div class="linkBHEAD"><a href="implementing.html">Implementing a Remote Interface</a></div>
<div class="linkAHEAD"><a href="client.html">Creating a Client Program</a></div>
<div class="linkAHEAD"><a href="example.html">Compiling and Running the Example</a></div>
<div class="linkBHEAD"><a href="compiling.html">Compiling the Example Programs</a></div>
<div class="linkBHEAD"><a href="running.html">Running the Example Programs</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../index.html target=_top>Home Page</a>
                &gt;
                <a href=./index.html target=_top>RMI</a>
            </span>
            <div class=NavBit>
                <a target=_top href=server.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=./TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=implementing.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>Designing a Remote Interface</h1></div>
            <div id=PageContent>
At the core of the compute engine is a protocol that enables tasks to be
submitted to the compute engine, the compute engine to run those tasks,
and the results of those tasks to be returned to the client. This protocol
is expressed in the interfaces that are supported by the compute
engine. The remote communication for this protocol is illustrated in
the following figure.

<p><center><IMG SRC="../figures/rmi/rmi-3.gif" WIDTH="248" HEIGHT="76" ALIGN="BOTTOM" ALT="remote communication between a client and the compute engine"></center></p>
<P>
Each interface contains a single method. The compute engine's remote
interface, <CODE>Compute</CODE>, enables tasks to be submitted to the
engine. The client interface, <CODE>Task,</CODE> defines how the
compute engine executes a submitted task.
<P>
The

<a class="SourceLink" target="_blank" href="examples/compute/Compute.java"><code><CODE>compute.Compute</CODE></code></a>
interface defines the remotely
accessible part, the compute engine itself.
Here is the source code for the <CODE>Compute</CODE> interface:
<div class="codeblock"><pre>
package compute;

import java.rmi.Remote;
import java.rmi.RemoteException;

public interface Compute extends Remote {
    &lt;T&gt; T executeTask(Task&lt;T&gt; t) throws RemoteException;
}
</pre></div>
<P>
By extending the interface <CODE>java.rmi.Remote</CODE>,
the <CODE>Compute</CODE> interface identifies itself as an interface whose methods can be invoked from another
Java virtual machine. Any object that implements this interface can be a
remote object.
<P>
As a member of a remote interface, the <CODE>executeTask</CODE> method
is a remote method. Therefore, this method must be defined as being
capable of throwing a <CODE>java.rmi.RemoteException</CODE>. This
exception is thrown by the RMI system from a remote method invocation to
indicate that either a communication failure or a protocol error has
occurred. A <CODE>RemoteException</CODE> is a checked exception, so any
code invoking a remote method needs to handle this exception by
either catching it or declaring it in its <CODE>throws</CODE> clause.
<P>
The second interface needed for the compute engine is the
<CODE>Task</CODE> interface, which is the type of the parameter to the
<CODE>executeTask</CODE> method in the <CODE>Compute</CODE> interface.
The

<a class="SourceLink" target="_blank" href="examples/compute/Task.java"><code><CODE>compute.Task</CODE></code></a>
interface defines the interface between
the compute engine and the work that it needs to do, providing the way
to start the work.
Here is the source code for the <CODE>Task</CODE> interface:
<div class="codeblock"><pre>
package compute;

public interface Task&lt;T&gt; {
    T execute();
}
</pre></div>
<P>
The <CODE>Task</CODE> interface defines a single method,
<CODE>execute</CODE>, which
has no parameters and throws no exceptions.
Because the interface does not extend <CODE>Remote</CODE>,
the method in this interface doesn't need to list
<CODE>java.rmi.RemoteException</CODE> in its <CODE>throws</CODE>
clause.
<P>
The <CODE>Task</CODE> interface has a type parameter, <CODE>T</CODE>,
which represents the result type of the task's computation.
This interface's <CODE>execute</CODE> method returns the result of
the computation and thus its return type is <CODE>T</CODE>.
<P>
The <CODE>Compute</CODE> interface's <CODE>executeTask</CODE> method,
in turn, returns the result of the execution of the <CODE>Task</CODE>
instance passed to it. Thus, the <CODE>executeTask</CODE> method has
its own type parameter, <CODE>T</CODE>, that associates its own return
type with the result type of the passed <CODE>Task</CODE> instance.
<P>
RMI uses the Java object serialization mechanism to transport objects
by value between Java virtual machines. For an object to be considered
serializable, its class must implement the
<CODE>java.io.Serializable</CODE> marker interface. Therefore, classes
that implement the <CODE>Task</CODE> interface must also implement
<CODE>Serializable</CODE>, as must the classes of objects used for
task results.
<P>
Different kinds of tasks can be run by a <CODE>Compute</CODE>
object as long as they are implementations of the <CODE>Task</CODE>
type. The classes that implement this interface can contain any data
needed for the computation of the task and any other methods needed for
the computation.
<P>
Here is how RMI makes this simple compute engine possible.
Because RMI can assume that the <CODE>Task</CODE>
objects are written in the Java programming language,
implementations of the <CODE>Task</CODE>
object that were previously unknown to the compute engine are
downloaded by RMI into the compute engine's Java virtual machine as needed.
This capability enables clients of the compute engine to define new kinds of tasks
to be run on the server machine without needing the code to be
explicitly installed on that machine.
<P>
The compute engine, implemented by the <CODE>ComputeEngine</CODE>
class, implements the <CODE>Compute</CODE>
interface, enabling different tasks to be submitted to it by calls to
its <CODE>executeTask</CODE> method. These tasks are run using the
task's implementation of the <CODE>execute</CODE> method and the
results, are returned to the remote client.

        </div>
        <div class=NavBit>
            <a target=_top href=server.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=./TOC.html>Trail</a>
            &bull;
            <a target=_top href=implementing.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h1" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id=duke src=../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h2" align="left" valign="middle"><img id=oracle src=../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Writing an RMI Server
        <br><b>Next page:</b> Implementing a Remote Interface
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
