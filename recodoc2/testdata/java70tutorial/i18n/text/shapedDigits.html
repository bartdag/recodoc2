<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>Converting Latin Digits to Other Unicode Digits (The Java&trade; Tutorials &gt;        
            Internationalization &gt; Working with Text)
</title>

     <meta name="description" content="This internationalization Java tutorial describes setting locale, isolating locale-specific data, formatting data, internationalized domain name and resource identifier" />
     <meta name="keywords" content="java programming, learn java, java sample code, i18n, internationalization, locale, text formatting" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Internationalization
        <br><b>Lesson:</b> Working with Text
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Working with Text</a></div>
<div class="linkAHEAD"><a href="charintro.html">Checking Character Properties</a></div>
<div class="linkAHEAD"><a href="collationintro.html">Comparing Strings</a></div>
<div class="linkBHEAD"><a href="locale.html">Performing Locale-Independent Comparisons</a></div>
<div class="linkBHEAD"><a href="rule.html">Customizing Collation Rules</a></div>
<div class="linkBHEAD"><a href="perform.html">Improving Collation Performance</a></div>
<div class="linkAHEAD"><a href="unicode.html">Unicode</a></div>
<div class="linkBHEAD"><a href="terminology.html">Terminology</a></div>
<div class="linkBHEAD"><a href="supplementaryChars.html">Supplementary Characters as Surrogates</a></div>
<div class="linkBHEAD"><a href="characterClass.html">Character and String APIs</a></div>
<div class="linkBHEAD"><a href="usage.html">Sample Usage</a></div>
<div class="linkBHEAD"><a href="design.html">Design Considerations</a></div>
<div class="linkBHEAD"><a href="info.html">More Information</a></div>
<div class="linkAHEAD"><a href="boundaryintro.html">Detecting Text Boundaries</a></div>
<div class="linkBHEAD"><a href="about.html">About the BreakIterator Class</a></div>
<div class="linkBHEAD"><a href="char.html">Character Boundaries</a></div>
<div class="linkBHEAD"><a href="word.html">Word Boundaries</a></div>
<div class="linkBHEAD"><a href="sentence.html">Sentence Boundaries</a></div>
<div class="linkBHEAD"><a href="line.html">Line Boundaries</a></div>
<div class="nolinkAHEAD">Converting Latin Digits to Other Unicode Digits</div>
<div class="linkAHEAD"><a href="convertintro.html">Converting Non-Unicode Text</a></div>
<div class="linkBHEAD"><a href="string.html">Byte Encodings and Strings</a></div>
<div class="linkBHEAD"><a href="stream.html">Character and Byte Streams</a></div>
<div class="linkAHEAD"><a href="normalizerapi.html">Normalizing Text</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Internationalization</a>
                &gt;
                <a href=index.html target=_top>Working with Text</a>
            </span>
            <div class=NavBit>
                <a target=_top href=line.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=convertintro.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>Converting Latin Digits to Other Unicode Digits</h1></div>
            <div id=PageContent>
<!-- Converting Latin Digits to Other Unicode Digits -->

<p>
By default, when text contains numeric values, those values are
displayed using Latin (European) digits.  When other Unicode digit
shapes are preferred, use the
<a class="APILink" target="_blank" href="/java/awt/font/NumericShaper.html"><code>java.awt.font.NumericShaper</code></a> class.  The <code>NumericShaper</code> API enables you to
display a numeric value represented internally as an ASCII value
in any Unicode digit shape.
<p>
The following code snippet, from the
<a class="SourceLink" target="_blank" href="examples/ArabicDigits.java"><code>ArabicDigits</code></a> example, shows how to use a <code>NumericShaper</code>
instance to convert Latin digits to Arabic digits.
The line that determines the shaping action is bolded.

<div class="codeblock"><pre>
    ArabicDigitsPanel(String fontname) {
        HashMap map = new HashMap();
        Font font = new Font(fontname, Font.PLAIN, 60);
        map.put(TextAttribute.FONT, font);
        <strong>map.put(TextAttribute.NUMERIC_SHAPING,
      	    NumericShaper.getShaper(NumericShaper.ARABIC));</strong>
        FontRenderContext frc = new FontRenderContext(null, false, false);
        layout = new TextLayout(text, map, frc);
    }

   ...

   public void paint(Graphics g) {
       Graphics2D g2d = (Graphics2D)g;
       layout.draw(g2d, 10, 50);
    }
</pre></div>
<p>
The <code>NumericShaper</code> instance for Arabic digits is fetched
and placed into a <code>HashMap</code> for the
<a class="APILink" target="_blank" href="/java/awt/font/TextAttribute.html#NUMERIC_SHAPING"><code>TextLayout.NUMERIC_SHAPING</code></a> attribute key. The hash map is passed to the <code>TextLayout</code> instance.
After rendering the text in the <code>paint</code>
method, the digits are displayed in the desired script.  In this example, 
the Latin digits, 0 through 9, are drawn as Arabic digits.
<p><center><IMG SRC="../../figures/i18n/ArabicDigits.png" WIDTH="589" HEIGHT="102" ALIGN="BOTTOM" ALT="ArabicDigits example output showing Arabic digits from 0 through 9"></center></p><p>
The previous example uses the <code>NumericShaper.ARABIC</code> constant
to retrieve the desired shaper, but the
<a class="APILink" target="_blank" href="/java/awt/font/NumericShaper.html#field_summary"><code>NumericShaper</code></a> class provides constants for many languages.  These constants are
defined as bit masks and are referred to as the
<code>NumericShaper</code> <em>bit mask-based constants</em>.

<h2>Enum-Based Range Constants</h2>
<p>
An alternative way to specify a particular set of digits is to use the
<a class="APILink" target="_blank" href="/java/awt/font/NumericShaper.Range.html"><code>NumericShaper.Range</code></a> enumerated type (enum).  This enum, introduced in the Java SE 7 release,
also provides a set of 
<a class="APILink" target="_blank" href="/java/awt/font/NumericShaper.Range.html#field_summary">constants</a>.  Although these constants are defined using different mechanisms,
the <code>NumericShaper.ARABIC</code> bit mask is functionally equivalent
to the <code>NumericShaper.Range.ARABIC</code> enum, and
there is a corresponding <code>getShaper</code> method for each constant type:
<ul>
<li>
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getShaper(int)"><code>getShaper(int singleRange)</code></a><li>
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getShaper(java.awt.font.NumericShaper.Range)"><code>getShaper(NumericShaper.Range singleRange)</code></a></ul>
<p>
The
<a class="SourceLink" target="_blank" href="examples/ArabicDigitsEnum.java"><code>ArabicDigitsEnum</code></a> example is identical to the ArabicDigits example, except it uses
the <code>NumericShaper.Range</code> enum to specify the language script:
<div class="codeblock"><pre>
        ArabicDigitsEnumPanel(String fontname) {
            HashMap map = new HashMap();
            Font font = new Font(fontname, Font.PLAIN, 60);
            map.put(TextAttribute.FONT, font);
            <strong>map.put(TextAttribute.NUMERIC_SHAPING,
		NumericShaper.getShaper(NumericShaper.Range.ARABIC));</strong>
            FontRenderContext frc = new FontRenderContext(null, false, false);
            layout = new TextLayout(text, map, frc);
	}

</pre></div>
<p>
Both <code>getShaper</code> methods accept a <code>singleRange</code> parameter.
With either constant type, you can specify a range of script-specific digits.
The bit mask-based constants can be combined using the
<code>OR</code> operand, or you can create a set of
<code>NumericShaper.Range</code> enums.
The following shows how to define a range using each constant type:
<p>
<div class="codeblock"><pre>
NumericShaper.MONGOLIAN | NumericShaper.THAI | NumericShaper.TIBETAN
EnumSet.of(NumericShaper.Range.MONGOLIAN, 
           NumericShaper.Range.THAI,
           NumericShaper.Range.TIBETAN)
</pre></div>

<p>
You can query the <code>NumericShaper</code> object to determine which ranges
it supports using either the 
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getRanges()"><code>getRanges</code></a> method for bit mask-based shapers or the
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getRangeSet()"><code>getRangeSet</code></a> method for enum-based shapers.

<div class="note"><hr><strong>Note:</strong>&nbsp;You can use either the traditional bit masked-based constants or
the <code>Range</code> enum-based constants.
Here are some considerations when deciding which to use:
<ul>
<li>The <code>Range</code> API requires JDK 7 or later.
<li> The <code>Range</code> API covers more Unicode ranges than the
bit-masked API.
<li>The bit-mask API is a bit faster than the <code>Range</code> API.
</ul>
<hr></div>

<h2>Rendering Digits According to Language Context</h2>
<p>
The
<a class="SourceLink" target="_blank" href="examples/ArabicDigits.java"><code>ArabicDigits</code></a> example was designed to use the shaper for a specific
language, but sometimes the digits must be rendered
according to the language context.  For example, if the text that
precedes the digits uses the Thai script, Thai digits are preferred.
If the text is displayed in Tibetan, Tibetan digits are preferred.
<p>
You can accomplish this using one of the <code>getContextualShaper</code>
methods:
<ul>
<li>
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getContextualShaper(int)">getContextualShaper(int ranges)</a><li>
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getContextualShaper(int,%20int)">getContextualShaper(int ranges, int defaultContext)</a><li>
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getContextualShaper(java.util.Set)">getContextualShaper(Set&lt;NumericShaper.Range&gt; ranges)</a><li>
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/awt/font/NumericShaper.html#getContextualShaper(java.util.Set,%20java.awt.font.NumericShaper.Range)">getContextualShaper(Set&lt;NumericShaper.Range&gt; ranges, NumericShaper.Range defaultContext)</a></ul>

<p>
The first two methods use the bit-mask constants, and the
last two use the enum constants. The methods that accept a
<code>defaultContext</code> parameter enable you to specify the
initial shaper that is used when numeric values are displayed before
text.  When no default context is defined, any leading
digits are displayed using Latin shapes.
<p>
The
<a class="SourceLink" target="_blank" href="examples/ShapedDigits.java"><code>ShapedDigits</code></a> example shows how shapers work.  Five text layouts are displayed: 
<ol>
<li>The first layout uses no shaper; all digits are displayed as Latin.
<li>The second layout shapes all digits as Arabic digits,
regardless of language context.
<li>The third layout employs a contextual shaper that uses Arabic digits.
The default context is defined to be Arabic.
<li>The fourth layout employs a contextual shaper that uses Arabic digits,
but the shaper does not specify a default context.
<li>The fifth layout employs a contextual shaper that uses the
<code>ALL_RANGES</code> bit mask,
but the shaper does not specify a default context.
</ol>

<p>
<p><center><IMG SRC="../../figures/i18n/ShapedDigits.png" WIDTH="590" HEIGHT="378" ALIGN="BOTTOM" ALT="ShapedDigits example output illustrating how contextual shapers work"></center></p><p>
The following lines of code show how the shapers, if used, are defined:

<ol>
<li>No shaper is used.
<li><code>NumericShaper arabic = NumericShaper.getShaper(NumericShaper.ARABIC);</code>
<li><code>NumericShaper contextualArabic = NumericShaper.getContextualShaper(NumericShaper.ARABIC, NumericShaper.ARABIC);</code>
<li><code>NumericShaper contextualArabicASCII = NumericShaper.getContextualShaper(NumericShaper.ARABIC);</code>
<li><code>NumericShaper contextualAll = NumericShaper.getContextualShaper(NumericShaper.ALL_RANGES);</code>
</ol>

See the
<a class="SourceLink" target="_blank" href="examples/ShapedDigits.java"><code>ShapedDigits.java</code></a> example for further implementation details.
        </div>
        <div class=NavBit>
            <a target=_top href=line.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=convertintro.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h1" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id=duke src=../../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h2" align="left" valign="middle"><img id=oracle src=../../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Line Boundaries
        <br><b>Next page:</b> Converting Non-Unicode Text
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
