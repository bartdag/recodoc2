<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>Customizing Collation Rules (The Java&trade; Tutorials &gt;        
            Internationalization &gt; Working with Text)
</title>

     <meta name="description" content="This internationalization Java tutorial describes setting locale, isolating locale-specific data, formatting data, internationalized domain name and resource identifier" />
     <meta name="keywords" content="java programming, learn java, java sample code, i18n, internationalization, locale, text formatting" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Internationalization
        <br><b>Lesson:</b> Working with Text
        <br><b>Section:</b> Comparing Strings
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Working with Text</a></div>
<div class="linkAHEAD"><a href="charintro.html">Checking Character Properties</a></div>
<div class="linkAHEAD"><a href="collationintro.html">Comparing Strings</a></div>
<div class="linkBHEAD"><a href="locale.html">Performing Locale-Independent Comparisons</a></div>
<div class="nolinkBHEAD">Customizing Collation Rules</div>
<div class="linkBHEAD"><a href="perform.html">Improving Collation Performance</a></div>
<div class="linkAHEAD"><a href="unicode.html">Unicode</a></div>
<div class="linkBHEAD"><a href="terminology.html">Terminology</a></div>
<div class="linkBHEAD"><a href="supplementaryChars.html">Supplementary Characters as Surrogates</a></div>
<div class="linkBHEAD"><a href="characterClass.html">Character and String APIs</a></div>
<div class="linkBHEAD"><a href="usage.html">Sample Usage</a></div>
<div class="linkBHEAD"><a href="design.html">Design Considerations</a></div>
<div class="linkBHEAD"><a href="info.html">More Information</a></div>
<div class="linkAHEAD"><a href="boundaryintro.html">Detecting Text Boundaries</a></div>
<div class="linkBHEAD"><a href="about.html">About the BreakIterator Class</a></div>
<div class="linkBHEAD"><a href="char.html">Character Boundaries</a></div>
<div class="linkBHEAD"><a href="word.html">Word Boundaries</a></div>
<div class="linkBHEAD"><a href="sentence.html">Sentence Boundaries</a></div>
<div class="linkBHEAD"><a href="line.html">Line Boundaries</a></div>
<div class="linkAHEAD"><a href="shapedDigits.html">Converting Latin Digits to Other Unicode Digits</a></div>
<div class="linkAHEAD"><a href="convertintro.html">Converting Non-Unicode Text</a></div>
<div class="linkBHEAD"><a href="string.html">Byte Encodings and Strings</a></div>
<div class="linkBHEAD"><a href="stream.html">Character and Byte Streams</a></div>
<div class="linkAHEAD"><a href="normalizerapi.html">Normalizing Text</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Internationalization</a>
                &gt;
                <a href=index.html target=_top>Working with Text</a>
            </span>
            <div class=NavBit>
                <a target=_top href=locale.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=perform.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>Customizing Collation Rules</h1></div>
            <div id=PageContent>
The previous section discussed how to use the predefined rules for a
locale to compare strings. These collation rules determine the sort
order of strings. If the predefined collation rules do not meet your
needs, you can design your own rules and assign them to a
<CODE>RuleBasedCollator </CODE> object.
<P>
Customized collation rules are contained in a <CODE>String</CODE>
object that is passed to the <CODE>RuleBasedCollator</CODE>
constructor. Here's a simple example:
<div class="codeblock"><pre>
String simpleRule = &quot;&lt; a &lt; b &lt; c &lt; d&quot;;
RuleBasedCollator simpleCollator =  new RuleBasedCollator(simpleRule);
</pre></div>
<P>
For the <CODE>simpleCollator</CODE> object in the previous example,
<CODE>a</CODE> is less than <CODE>b</CODE>, which is less that
<CODE>c</CODE>, and so forth. The <CODE>simpleCollator.compare </CODE>
method references these rules when comparing strings. The full syntax
used to construct a collation rule is more flexible and complex than
this simple example. For a full description of the syntax, refer to the
API documentation for the 
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/text/RuleBasedCollator.html"><code>RuleBasedCollator</code></a> class.

<P>
The example that follows sorts a list of Spanish words with two
collators. Full source code for this example is in 

<a class="SourceLink" target="_blank" href="examples/RulesDemo.java"><code>RulesDemo.java</code></a>.
<P>
The <CODE>RulesDemo</CODE> program starts by defining collation rules
for English and Spanish. The program will sort the Spanish words in the
traditional manner. When sorting by the traditional rules, the letters
ch and ll and their uppercase equivalents each have their own positions
in the sort order. These character pairs compare as if they were one
character. For example, ch sorts as a single letter, following cz in
the sort order. Note how the rules for the two collators differ:
<div class="codeblock"><pre>
String englishRules =
    (&quot;&lt; a,A &lt; b,B &lt; c,C &lt; d,D &lt; e,E &lt; f,F &quot; +
     &quot;&lt; g,G &lt; h,H &lt; i,I &lt; j,J &lt; k,K &lt; l,L &quot; +
     &quot;&lt; m,M &lt; n,N &lt; o,O &lt; p,P &lt; q,Q &lt; r,R &quot; +
     &quot;&lt; s,S &lt; t,T &lt; u,U &lt; v,V &lt; w,W &lt; x,X &quot; +
     &quot;&lt; y,Y &lt; z,Z&quot;);

String smallnTilde = new String(&quot;\u00F1&quot;); // &ntilde;
String capitalNTilde = new String(&quot;\u00D1&quot;); // &Ntilde;

String traditionalSpanishRules =
    (&quot;&lt; a,A &lt; b,B &lt; c,C &quot; +
     &quot;&lt; ch, cH, Ch, CH &quot; +
     &quot;&lt; d,D &lt; e,E &lt; f,F &quot; +
     &quot;&lt; g,G &lt; h,H &lt; i,I &lt; j,J &lt; k,K &lt; l,L &quot; +
     &quot;&lt; ll, lL, Ll, LL &quot; +
     &quot;&lt; m,M &lt; n,N &quot; +
     &quot;&lt; &quot; + smallnTilde + &quot;,&quot; + capitalNTilde + &quot; &quot; +
     &quot;&lt; o,O &lt; p,P &lt; q,Q &lt; r,R &quot; +
     &quot;&lt; s,S &lt; t,T &lt; u,U &lt; v,V &lt; w,W &lt; x,X &quot; +
     &quot;&lt; y,Y &lt; z,Z&quot;);
</pre></div>
<P>
The following lines of code create the collators and invoke the sort routine: 
<div class="codeblock"><pre>
try {
    RuleBasedCollator enCollator =
        new RuleBasedCollator(englishRules);
    RuleBasedCollator spCollator =
        new RuleBasedCollator(traditionalSpanishRules);

    sortStrings(enCollator, words);
    printStrings(words);

    System.out.println();

    sortStrings(spCollator, words);
    printStrings(words);
} catch (ParseException pe) {
    System.out.println(&quot;Parse exception for rules&quot;);
}
</pre></div>
<P>
The sort routine, called <CODE>sortStrings</CODE>, is generic. It will
sort any array of words according to the rules of any
<CODE>Collator</CODE> object:
<div class="codeblock"><pre>
public static void sortStrings(Collator collator, String[] words) {
    String tmp;
    for (int i = 0; i &lt; words.length; i++) {
	for (int j = i + 1; j &lt; words.length; j++) {
	    if (collator.compare(words[i], words[j]) &gt; 0) {
		tmp = words[i];
		words[i] = words[j];
		words[j] = tmp;
	    }
	}
    }
}
</pre></div>
<P>
When sorted with the English collation rules, the array of words is as follows: 
<div class="codeblock"><pre>
chalina
curioso
llama
luz
</pre></div>
<P>
Compare the preceding list with the following, which is sorted
according to the traditional Spanish rules of collation:
<div class="codeblock"><pre>
curioso
chalina
luz
llama
</pre></div>

        </div>
        <div class=NavBit>
            <a target=_top href=locale.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=perform.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h1" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id=duke src=../../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h2" align="left" valign="middle"><img id=oracle src=../../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Performing Locale-Independent Comparisons
        <br><b>Next page:</b> Improving Collation Performance
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
