<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html lang="en-US">
    <head>
        <title>The StringBuilder Class (The Java&trade; Tutorials &gt;        
            Learning the Java Language &gt; Numbers and Strings)
</title>

     <meta name="description" content="This beginner Java tutorial describes fundamentals of programming in the Java programming language" />
     <meta name="keywords" content="java programming, learn java, java sample code, java objects, java classes, java inheritance, interfaces, variables, arrays, data types, operators, control flow, number, string" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: center;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }

    /t

</style>
<script type="text/javascript">
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>

    </head>
<body onload="load()">
    <div id=TopBar> <div id=TopBar_tr> <div id=TopBar_tl> <div id=TopBar_br> <div id=TopBar_bl> 
                        <div id=TopBar_right> 
                            <a target="_blank"
                                href="http://java.sun.com/javase/6/download.jsp">Download
                                the JDK</a>
                            <br>
                            <a href="../../search.html" target="_blank">Search the
                                Tutorials</a>
                            <br>
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide the TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class=PrintHeaders>
        <b>Trail:</b> Learning the Java Language
        <br><b>Lesson:</b> Numbers and Strings
        <br><b>Section:</b> Strings
    </div>

    <div id=LeftBar class=LeftBar_shown>
        <div id=Contents>
            <div class="linkLESSON"><a href="index.html">Numbers and Strings</a></div>
<div class="linkAHEAD"><a href="numbers.html">Numbers</a></div>
<div class="linkBHEAD"><a href="numberclasses.html">The Numbers Classes</a></div>
<div class="linkBHEAD"><a href="numberformat.html">Formatting Numeric Print Output</a></div>
<div class="linkBHEAD"><a href="beyondmath.html">Beyond Basic Arithmetic</a></div>
<div class="linkBHEAD"><a href="numbersummary.html">Summary of Numbers</a></div>
<div class="linkQUESTIONS"><a href="QandE/numbers-questions.html">Questions and Exercises</a></div>
<div class="linkAHEAD"><a href="characters.html">Characters</a></div>
<div class="linkAHEAD"><a href="strings.html">Strings</a></div>
<div class="linkBHEAD"><a href="converting.html">Converting Between Numbers and Strings</a></div>
<div class="linkBHEAD"><a href="manipstrings.html">Manipulating Characters in a String</a></div>
<div class="linkBHEAD"><a href="comparestrings.html">Comparing Strings and Portions of Strings</a></div>
<div class="nolinkBHEAD">The StringBuilder Class</div>
<div class="linkBHEAD"><a href="stringsummary.html">Summary of Characters and Strings</a></div>
<div class="linkQUESTIONS"><a href="QandE/characters-questions.html">Questions and Exercises</a></div>
</div>
    </div>
    <div id=MainFlow class=MainFlow_indented>
            <span id=BreadCrumbs>
                <a href=../../index.html target=_top>Home Page</a>
                &gt;
                <a href=../index.html target=_top>Learning the Java Language</a>
                &gt;
                <a href=index.html target=_top>Numbers and Strings</a>
            </span>
            <div class=NavBit>
                <a target=_top href=comparestrings.html>&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target=_top href=../TOC.html>Trail</a>&nbsp;&bull;&nbsp;<a target=_top href=stringsummary.html>Next&nbsp;&raquo;</a>
            </div>
            <div id=PageTitle><h1>The StringBuilder Class</h1></div>
            <div id=PageContent>
<!-- String Builder -->

<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html"><code>StringBuilder</code> </a> objects are like 
<a class="APILink" target="_blank" href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html"><code>String</code> </a> objects, 
except that they can be modified. Internally, these objects are treated like variable-length arrays 
that contain a sequence of characters. At any point, the length and content of the sequence 
can be changed through method invocations. 
<p>
Strings should always be used unless string builders offer an advantage in terms of simpler code 
(see the sample program at the end of this section) or 
better performance. For example, if you need to concatenate a large number of strings, 
appending to a <code>StringBuilder</code> object is more efficient.


<h2 fmstyle=C-Head>Length and Capacity</h2>
The <code>StringBuilder</code> class, like the <code>String</code> class, has a 
<code>length()</code> method that returns the length of the character sequence in the builder.
<p>
Unlike strings, every string builder also has a <i>capacity</i>, the number of character spaces that 
have been allocated. The capacity, which is returned by the <code>capacity()</code> method, 
is always greater than or equal to the length (usually greater than) and will automatically expand as necessary 
to accommodate additions to the string builder. 

<p>
<table WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3
 summary="This table lists the constructors for the StringBuilder class">
<caption><b><code>StringBuilder</code> Constructors</b></caption>
<tr>
<th id="h1">Constructor</th>
<th id="h2" width=50%>Description</th>
</tr>

<tr>
<td headers="h1"><code>StringBuilder()</code></td>
<td headers="h2">Creates an empty string builder with a capacity of 16 (16 empty
elements).</td>
</tr>

<tr>
<td headers="h1"><code>StringBuilder(CharSequence cs)</code></td>
<td headers="h2">Constructs a string builder containing the same characters as the
specified <code>CharSequence</code>, plus an extra 16 empty elements 
trailing the <code>CharSequence</code>.</td>
</tr>

<tr>
<td headers="h1"><code>StringBuilder(int initCapacity)</code></td>
<td headers="h2">Creates an empty string builder with the specified initial capacity.</td>
</tr>

<tr>
<td headers="h1"><code>StringBuilder(String s)</code></td>
<td headers="h2">Creates a string builder whose value is initialized by the specified
string, plus an extra 16 empty elements trailing the string.</td>
</tr>
</table>
<p>
For example, the following code
<div class="codeblock"><pre>
StringBuilder sb = new StringBuilder(); // creates empty builder, capacity 16
sb.append("Greetings");  // adds 9 character string at beginning
</pre></div>
will produce a string builder with a length of 9 and a capacity of 16:
<!-- figure -->
<p><center><IMG SRC="../../figures/java/objects-stringBuffer.gif" WIDTH="397" HEIGHT="102" ALIGN="BOTTOM" ALT="A string builder's length is the number of characters it contains; a string builder's "></center></p><p>
The <code>StringBuilder</code> class has some methods related to length and capacity that the 
<code>String</code> class does not have:
<p>
<table WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3
 summary="This table lists length and capacity methods">
<caption><b>Length and Capacity Methods</b></caption>
<tr>
<th id="h101">Method</th>
<th id="h102" width=50%>Description</th>
</tr>

<tr>
<td headers="h101"><code>void setLength(int newLength)</code></td>
<td headers="h102">Sets the length of the character sequence.
If <code>newLength</code> is less than <code>length()</code>,
the last characters in the character sequence are truncated.
If <code>newLength</code> is greater than <code>length()</code>, 
null characters are added at the end of the character sequence.</td>
</tr>
<tr>
<td headers="h101"><code>void ensureCapacity(int minCapacity)</code></td>
<td headers="h102">Ensures that the capacity is at least equal to the specified minimum.</td>
</tr>
</table>
<p>
A number of operations (for example, <code>append()</code>, <code>insert()</code>, or <code>setLength()</code>) 
can increase the length of the character sequence in the string builder so that 
the resultant <code>length()</code> would be greater than the current <code>capacity()</code>. 
When this happens, the capacity is automatically increased.




<h2 fmstyle=C-Head>StringBuilder Operations</h2>


The principal operations on a <code>StringBuilder</code> that are not available in <code>String</code> are the 
<code>append()</code> and <code>insert()</code> methods, which 
are overloaded so as to accept data of any type. Each converts its argument 
to a string and then appends or inserts the characters of that string to the character sequence 
in the string builder. The append method always adds these characters at the end of the existing character sequence, 
while the insert method adds the characters at a specified point. 

<p>
Here are a number of the methods of the <code>StringBuilder</code> class. 
<p>

<table  WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=3
 summary="This table lists miscellaneous StringBuilder methods">
<caption><b>Various <code>StringBuilder</code> Methods</b></caption>
<tr>
<th id="h201">Method</th>
<th id="h202" width=50%>Description</th>
</tr>

<tr>
<td headers="h201"><code>StringBuilder append(boolean b)<br>
StringBuilder append(char c)<br>
StringBuilder append(char[] str)<br>
StringBuilder append(char[] str, int offset, int len)<br>
StringBuilder append(double d)<br>
StringBuilder append(float f)<br>
StringBuilder append(int i)<br>
StringBuilder append(long lng)<br>
StringBuilder append(Object obj)<br>
StringBuilder append(String s)</code></td>
<td headers="h202">Appends the argument to this string
builder. The data is converted to a
string before the append operation
takes place.</td>
</tr>
<tr>
<td headers="h201"><code>StringBuilder delete(int start, int end)<br>
StringBuilder deleteCharAt(int index)</code></td>
<td headers="h202">The first method deletes the subsequence from
start to end-1 (inclusive) in the
<code>StringBuilder</code>'s char sequence.
The second method deletes the character located at <code>index</code>.</td>
</tr>
<tr>
<td headers="h201"><code>StringBuilder insert(int offset, boolean b)<br>
StringBuilder insert(int offset, char c)<br>
StringBuilder insert(int offset, char[] str)<br>
StringBuilder insert(int index, char[] str, int offset, int len)<br>
StringBuilder insert(int offset, double d)<br>
StringBuilder insert(int offset, float f)<br>
StringBuilder insert(int offset, int i)<br>
StringBuilder insert(int offset, long lng)<br>
StringBuilder insert(int offset, Object obj)<br>
StringBuilder insert(int offset, String s)</code></td>
<td headers="h202">Inserts the second argument into the
string builder. The first integer argument
indicates the index before
which the data is to be inserted. The
data is converted to a string before
the insert operation takes place.</td>
</tr>
<tr>
<td headers="h201"><code>StringBuilder replace(int start, int end, String s)<br>
void setCharAt(int index, char c)</code></td>
<td headers="h202">Replaces the specified character(s) in this string builder.</td>
</tr>
<tr>
<td headers="h201"><code>StringBuilder reverse()</code></td>
<td headers="h202">Reverses the sequence of characters in this string builder.</td>
</tr>

<tr>
<td headers="h201"><code>String toString()</code></td>
<td headers="h202">Returns a string that contains the character sequence in the builder.</td>
</tr>
</table>

<p>
<div class="note"><hr><strong>Note:</strong>&nbsp;You can use any <code>String</code> method on a <code>StringBuilder</code> object by first converting the 
string builder to a string with the <code>toString()</code> method of the 
<code>StringBuilder</code> class. Then convert the string back into a string builder 
using the <code>StringBuilder(String str)</code> constructor.
<hr></div>

<h2 fmstyle=C-Head>An Example</h2>
The <code>StringDemo</code> program that was listed in the section titled "Strings" is an example of 
a program that would be more efficient if a <code>StringBuilder</code> were used instead of a <code>String</code>.
<p>
<code>StringDemo</code> reversed a palindrome. Here, once again, is its listing:
<div class="codeblock"><pre>

public class StringDemo {
    public static void main(String[] args) {
        String palindrome = &quot;Dot saw I was Tod&quot;;
        int len = palindrome.length();
        char[] tempCharArray = new char[len];
        char[] charArray = new char[len];
        
        // put original string in an array of chars
        for (int i = 0; i &lt; len; i++) {
            tempCharArray[i] = palindrome.charAt(i);
        } 
        
        // reverse array of chars
        for (int j = 0; j &lt; len; j++) {
            charArray[j] = tempCharArray[len - 1 - j];
        }
        
        String reversePalindrome =  new String(charArray);
        System.out.println(reversePalindrome);
    }
}
</pre></div>
Running the program produces this output:
<div class="codeblock"><pre>
doT saw I was toD
</pre></div>
To accomplish the string reversal, the program converts the string to an array of 
characters (first <code>for</code> loop), 
reverses the array into a second array (second <code>for</code> loop), and then converts back to a string. 
<P>
If you convert the <code>palindrome</code> string to a string builder, you can use the <code>reverse()</code> 
method in the <code>StringBuilder</code> class. It makes the code simpler and easier to read:
<div class="codeblock"><pre>

public class StringBuilderDemo {
    public static void main(String[] args) {
        String palindrome = &quot;Dot saw I was Tod&quot;;
         
        StringBuilder sb = new StringBuilder(palindrome);
        
        sb.reverse();  // reverse it
        
        System.out.println(sb);
    }
}
</pre></div>
Running this program produces the same output:
<div class="codeblock"><pre>
doT saw I was toD
</pre></div>
Note that <code>println()</code> prints a string builder, as in:
<div class="codeblock"><pre>
System.out.println(sb);
</pre></div>
because <code>sb.toString()</code> is called implicitly, as it is with any other object in a 
<code>println()</code> invocation.
<p>
<div class="note"><hr><strong>Note:</strong>&nbsp;There is also a <code>StringBuffer</code> class that is <i>exactly</i> the same as the 
<code>StringBuilder</code> class, except that it is thread-safe by virtue of having its methods 
synchronized. Threads will be discussed in the 
lesson 
on concurrency.
<hr></div>
        </div>
        <div class=NavBit>
            <a target=_top href=comparestrings.html>&laquo; Previous</a>
            &bull;
            <a target=_top href=../TOC.html>Trail</a>
            &bull;
            <a target=_top href=stringsummary.html>Next &raquo;</a>
        </div>
    </div>
    <div id=Footer2>
<hr>
<div id=TagNotes>
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href=../../information/run-examples.html>Compiling and Running
        the Examples: FAQs</a>.
    <br>
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://download.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id=Footer>
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner,
and all the material on pages under &quot;The Java Tutorials&quot; banner is subject to the <a href="../../information/license.html">Java SE Tutorial Copyright
and License</a>.
Additionally, any example code contained in any of these Java
Tutorials pages is licensed under the
<a href="http://developers.sun.com/license/berkeley_license.html">Code
Sample License</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td headers="h301" width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h301" align="center"><img id=duke src=../../images/DukeWave.gif width=55 height=55 alt="duke image"></td>
              <td headers="h302" align="left" valign="middle"><img id=oracle src=../../images/logo_oracle_footer.gif width=100 height=29 alt="Oracle logo"></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="https://www.samplecode.oracle.com/servlets/CompulsoryClickThrough?type=TermsOfService">Terms of Service</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2011 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class=PrintHeaders>
        <b>Previous page:</b> Comparing Strings and Portions of Strings
        <br><b>Next page:</b> Summary of Characters and Strings
    </div>

<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
<noscript> 
A browser with JavaScript enabled is required for this page to operate properly.
</noscript>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>

 
<!-- End SiteCatalyst code -->

</body>
</html> 
